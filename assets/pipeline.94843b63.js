import{l as x,bI as P,cx as h,bK as b,bJ as _,c as p,_ as $,bY as f,p as v,t as Y,v as t,d as s,bb as l,a4 as o,c4 as w,y as S,bR as g,cw as C,bQ as M,aO as N,aM as I,aS as Q,ag as T,b_ as A}from"./index.cc00f7f1.js";import{Q as j}from"./QTable.bae7c27d.js";const k=[{name:1,label:"Name",align:"left",field:e=>e.map.name,format:e=>`${e}`,sortable:!0},{name:7,label:"Status",align:"left",field:e=>e.map.status,format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Offer Date",align:"left",field:e=>e.map.offerDate,format:e=>`${f.formatDate(e,"MM/DD/YYYY")}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?f.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],B=[{name:1,label:"Name",align:"left",field:e=>e.map.name,format:e=>`${e}`,sortable:!0},{name:7,label:"Status",align:"left",field:e=>e.map.status,format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Offer Date",align:"left",field:e=>e.map.offerDate,format:e=>`${f.formatDate(e,"MM/DD/YYYY")}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?f.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],J=x({name:"Pipeline Table",components:{},setup(){const e=P(),r=h(),n=b(),{pipelineForProject:m}=_(r),a=m,{active:u}=_(b()),i=p(()=>a.value.filter(c=>c.map.status==="In Process")),y=p(()=>a.value.filter(c=>c.map.status==="Deployed")),D=p(()=>a.value.filter(c=>c.status==="Arrived")),q=p(()=>e.screen.lt.md?100:a.value.length>=25?Math.round(a.value.length/5):10);return{columns:k,mobileColumns:B,rows:a,initialPagination:{rowsPerPage:q},separator:"vertical",projectStore:n,pipelineForProject:m,inProcess:i,deployed:y,arrived:D,active:u}}}),d=e=>(N("data-v-290519a2"),e=e(),I(),e),O={class:"q-px-sm"},F={class:"row"},R={class:"col-12 col-md-10 q-px-xs"},z={class:"text-dark text-caption text-italic"},V={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},E=d(()=>t("div",{class:"text-body1 text-primary"},"Summary",-1)),H={class:"text-body2"},K=d(()=>t("span",{class:"q-mr-md"},"In Process:",-1)),G={class:"text-body2"},L=d(()=>t("span",{class:"q-mr-md"},"Deployed:",-1)),U={class:"text-body2"},W=d(()=>t("span",{class:"q-mr-md"},"Arrived:",-1)),X={class:"text-body2"},Z=d(()=>t("span",{class:"q-mr-md"},"Total:",-1));function ee(e,r,n,m,a,u){return v(),Y("div",O,[t("div",F,[t("div",R,[s(j,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.lt.sm?"Pipeline":`Staffing Pipeline for ${e.active[20]}`,columns:e.$q.screen.lt.md?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There is no one in the pipeline for ${e.active[20]}`,grid:e.$q.screen.lt.sm},{"top-right":l(()=>[t("div",z,"(Total: "+o(e.pipelineForProject.length)+" in pipeline)",1)]),"no-data":l(({message:i})=>[t("div",V,[s(w,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,o(i),1)])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","grid"])]),t("div",{class:S(e.$q.screen.lt.md?"col-12 q-px-xs q-mt-sm order-first":"col-2 q-px-xs")},[s(M,null,{default:l(()=>[s(g,{class:"q-pb-xs"},{default:l(()=>[E]),_:1}),s(g,{class:"text-right q-pt-xs"},{default:l(()=>[t("div",H,[K,t("span",null,o(e.inProcess.length),1)]),t("div",G,[L,t("span",null,o(e.deployed.length),1)]),t("div",U,[W,t("span",null,o(e.arrived.length),1)]),s(C,{color:"primary",class:"q-my-sm"}),t("div",X,[Z,t("span",null,o(e.pipelineForProject.length),1)])]),_:1})]),_:1})],2)])])}var te=$(J,[["render",ee],["__scopeId","data-v-290519a2"]]);const ae={name:"Pipeline",components:{pipelineTable:te},setup(){const{getInProcesses:e,getDispatches:r,getDeployments:n}=h();return e(),r(),n(),{}}};function se(e,r,n,m,a,u){const i=Q("pipeline-table");return v(),T(A,{style:{"max-width":"100vw"}},{default:l(()=>[s(i)]),_:1})}var re=$(ae,[["render",se]]);export{re as default};
