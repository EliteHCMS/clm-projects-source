import{l as A,D as q,E as c,G as f,r as N,H as S,I as C,c as V,_ as $,J as v,p as h,t as _,d as s,K as n,Q as u,v as p,L as k,M as P,N as Y,O as M,P as Q}from"./index.2e36a6e3.js";import{u as b,Q as B}from"./hiring.ad77e91d.js";const I=[{name:1,label:"Name",align:"left",field:e=>e.map.name,format:e=>`${e}`,sortable:!0},{name:2,label:"Workday ID",align:"left",field:e=>e.map.workdayId,format:e=>`${e}`,sortable:!0},{name:3,label:"Craft",align:"left",field:e=>e.map.craft,format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.job,format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e.map.jobNumber,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Site Contact",align:"left",field:e=>e.map.contact,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:7,label:"Start Date",align:"left",field:e=>e.map.start,format:e=>`${v.formatDate(new Date(e),"MM/DD/YYYY")}`,sortable:!0}],T=[{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:2,label:"Workday ID",align:"left",field:e=>e.employeeId,format:e=>`${e}`,sortable:!0},{name:3,label:"Craft",align:"left",field:e=>e[59],format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e[60],format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Start Date",align:"left",field:e=>e[33],format:e=>`${v.formatDate(new Date(e),"MM-DD-YYYY")}`,sortable:!0}],j=A({name:"Arrivals Table",components:{},setup(){const e=q(),l=b(),i=c(),{deploymentsForProject:d}=f(l),o=d,{getDeployments:m}=b(),{active:a}=f(c());m();const t=N([]);S(()=>{l.alreadyArrived.forEach(r=>{t.value.includes(r)||t.value.push(r)})}),C(()=>{l.alreadyArrived.forEach(r=>{t.value.includes(r)||t.value.push(r)})});const y=V(()=>e.screen.lt.md?o.value.length:o.value.length>=25?Math.round(o.value.length/5):5);function w({rows:r,added:D,evt:R}){l.updateArrival({row:r[0],added:D})}return{columns:I,mobileColumns:T,rows:o,initialPagination:{rowsPerPage:y},separator:"vertical",arrivals:t,projectStore:i,updateArrivals:w,hiringStore:l,active:a}}}),E={class:"q-px-sm"},U={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function x(e,l,i,d,o,m){return h(),_("div",E,[s(B,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Expected Arrivals for ${e.active[12]}`:"Arrivals",columns:e.$q.screen.lt.md?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical",selection:"multiple",onSelection:e.updateArrivals,selected:e.hiringStore.alreadyArrived,"table-header-class":"bg-dark text-white","no-data-label":`There are no expected arrivals for ${e.active[12]}`,grid:e.$q.screen.lt.sm,"hide-pagination":e.$q.screen.lt.md},{"header-selection":n(a=>[s(u,{disable:"",modelValue:a.selected,"onUpdate:modelValue":t=>a.selected=t},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":n(a=>[s(u,{label:e.$q.screen.lt.sm?"Arrived":"",modelValue:a.selected,"onUpdate:modelValue":t=>a.selected=t},null,8,["label","modelValue","onUpdate:modelValue"])]),"no-data":n(({message:a})=>[p("div",U,[s(k,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),p("span",null,P(a),1)])]),_:1},8,["title-class","title","columns","rows","pagination","onSelection","selected","no-data-label","grid","hide-pagination"])])}var g=$(j,[["render",x]]);const J={name:"Arrivals",components:{arrivalTable:g},setup(){return{arrivalTable:g}}};function H(e,l,i,d,o,m){const a=Y("arrival-table");return h(),M(Q,{padding:"",style:{"max-width":"100vw"}},{default:n(()=>[s(a)]),_:1})}var F=$(J,[["render",H]]);export{F as default};
