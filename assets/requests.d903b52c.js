import{bB as fe,c as A,h as ne,bF as ie,g as Qe,l as Z,bI as x,bJ as G,cA as Q,_ as D,p as n,t as c,d as a,bb as s,bR as ee,v as t,a4 as i,bQ as K,F as k,aR as j,ag as f,an as C,c4 as Y,bO as q,bd as W,bw as X,ah as $,r as M,bL as z,bW as B,bM as te,bN as w,bX as U,bS as H,by as ae,bP as se,y as de,cB as ue,aS as I,cC as Oe,cw as pe,bT as me,w as Te,cD as ze,bZ as Ue,cE as ce,cF as Me,b_ as Be}from"./index.cc00f7f1.js";import{Q as oe}from"./QBadge.348fb8e6.js";import{a as Le,Q as le,c as De,b as re}from"./QTabPanels.fee1dc06.js";import{Q as Je}from"./QSpace.2a9f743a.js";import{a as _,Q as L,b as be}from"./QTable.bae7c27d.js";var y=fe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:o}){const u=A(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>ne("tr",{class:u.value},ie(o.default))}}),v=fe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:o}){const u=Qe(),p=A(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return ne("td",{class:p.value},ie(o.default));const g=u.vnode.key,b=(e.props.colsMap!==void 0?e.props.colsMap[g]:null)||e.props.col;if(b===void 0)return;const{row:l}=e.props;return ne("td",{class:p.value+b.__tdClass(l),style:b.__tdStyle(l)},ie(o.default))}}});const Ie=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:e=>e[254],format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0}],He=[{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],We=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:e=>e[17],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.accepted.length,format:e=>`${e}`},{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0}],Xe=[{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0}],Ze=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,o)=>`${e} ${o[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e[10],format:e=>`${e}`}],Ge=Z({name:"Open Table",components:{},setup(e,o){const u=x(),{activeProject:p,openRequestsForProject:g,openRequestsForProjectSummary:b}=G(Q()),l=g,r=A(()=>u.screen.lt.md?100:5);function m(P){o.emit("addSomeNames",P)}function S(P){o.emit("removeName",P)}return console.log(l.value),{columns:Ie,rows:l,initialPagination:{rowsPerPage:r},separator:"vertical",secondColumns:We,mobileColumns:He,secMobileColumns:Xe,activeProject:p,openRequestsForProjectSummary:b,nameColumns:Ze,addSomeNames:m,removeName:S}}}),Ke={class:"q-px-none"},Ye={class:"row text-caption"},xe={class:"col-12 col-md-2"},et=t("span",{class:"text-accent"},"Total Requests:",-1),tt={class:"text-white q-ml-sm"},at={class:"col-12 col-md-2"},st=t("span",{class:"text-accent"},"Classifications:",-1),ot={class:"text-white q-ml-sm"},lt={class:"col-12 col-md-2"},rt=t("span",{class:"text-accent"},"Total Need:",-1),nt={class:"text-white q-ml-sm"},it={class:"col-12 col-md-2"},dt=t("span",{class:"text-accent"},"Balance:",-1),mt={class:"text-white q-ml-sm"},ut={class:"col-12 col-md-2"},ct=t("span",{class:"text-accent"},"Avg. Rate:",-1),ft={class:"text-white q-ml-sm"},pt={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},bt={class:"bg-accent"},ht=t("th",{class:"text-left"},"Name",-1),gt=t("th",{class:"text-left"},"Phone",-1),$t=t("th",{class:"text-left"},"Status",-1),qt={key:0},vt={class:"text-left"},yt={class:"text-left"},wt={class:"text-left"},Nt={key:0,class:"text-center"};function Ct(e,o,u,p,g,b){return n(),c("div",Ke,[a(K,{class:"q-mb-md bg-dark"},{default:s(()=>[a(ee,{class:"q-pa-sm"},{default:s(()=>[t("div",Ye,[t("div",xe,[t("div",null,[et,t("span",tt,i(e.openRequestsForProjectSummary.requestCount),1)])]),t("div",at,[t("div",null,[st,t("span",ot,i(e.openRequestsForProjectSummary.classCount),1)])]),t("div",lt,[t("div",null,[rt,t("span",nt,i(e.openRequestsForProjectSummary.need),1)])]),t("div",it,[t("div",null,[dt,t("span",mt,i(e.openRequestsForProjectSummary.balance),1)])]),t("div",ut,[t("div",null,[ct,t("span",ft,"$ "+i(e.openRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),a(L,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Open Requests for ${e.activeProject[20]}`:"Open Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no open requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.md},{header:s(l=>[a(y,{class:"bg-dark text-white",props:l},{default:s(()=>[a(_,{"auto-width":""}),(n(!0),c(k,null,j(l.cols,r=>(n(),f(_,{key:r.name,props:l},{default:s(()=>[C(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":s(({message:l})=>[t("div",pt,[a(Y,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(l),1)])]),body:s(l=>[a(y,{props:l},{default:s(()=>[a(v,{"auto-width":""},{default:s(()=>[a(q,{size:e.$q.screen.gt.sm?"sm":"xs",color:"primary",round:"",dense:"",onClick:r=>l.expand=!l.expand,icon:l.expand?"remove":"add"},null,8,["size","onClick","icon"])]),_:2},1024),(n(!0),c(k,null,j(l.cols,r=>(n(),f(v,{key:r.name,props:l},{default:s(()=>[C(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),W(a(y,{props:l},{default:s(()=>[a(v,{colspan:"100%"},{default:s(()=>[a(L,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:l.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:s(r=>[a(y,{class:"bg-dark text-white",props:r},{default:s(()=>[a(_,{"auto-width":""}),(n(!0),c(k,null,j(r.cols,m=>(n(),f(_,{key:m.name,props:r},{default:s(()=>[C(i(m.label),1)]),_:2},1032,["props"]))),128)),a(_,{"auto-width":""})]),_:2},1032,["props"])]),body:s(r=>[a(y,{props:r},{default:s(()=>[a(v,{"auto-width":""},{default:s(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),f(q,{key:0,size:e.$q.screen.gt.sm?"sm":"xs",color:"primary",round:"",dense:"",onClick:m=>r.expand=!r.expand,icon:r.expand?"remove":"add"},null,8,["size","onClick","icon"])):$("",!0)]),_:2},1024),(n(!0),c(k,null,j(r.cols,m=>(n(),f(v,{key:m.name,props:r},{default:s(()=>[C(i(m.value),1)]),_:2},1032,["props"]))),128)),a(v,{"auto-width":""},{default:s(()=>[e.$can("create","nameRequests")?(n(),f(q,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:m=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):$("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?W((n(),f(y,{key:0,props:r},{default:s(()=>[a(v,{colspan:"100%"},{default:s(()=>[a(be,{dense:"",flat:"",bordered:"",separator:"none"},{default:s(()=>[t("thead",bt,[t("tr",null,[ht,gt,$t,e.$can("create","nameRequests")?(n(),c("th",qt)):$("",!0)])]),t("tbody",null,[(n(!0),c(k,null,j(r.row.names,m=>(n(),c("tr",{key:m[3]},[t("td",vt,i(m[6])+" "+i(m[7]),1),t("td",yt,i(m[8]),1),t("td",wt,i(m[10]),1),e.$can("create","nameRequests")?(n(),c("td",Nt,[a(q,{size:"sm",color:"accent",onClick:S=>e.removeName(m),label:"Remove"},null,8,["onClick"])])):$("",!0)]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[X,r.expand]]):$("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[X,l.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var _t=D(Ge,[["render",Ct]]);const Rt=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],kt=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],jt=[{name:1,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],St=[{name:1,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],Pt=Z({name:"Closed Table",components:{},setup(){const e=x(),{activeProject:o,closedRequestsForProject:u,closedRequestsForProjectSummary:p}=G(Q()),g=u,b=A(()=>e.screen.lt.md?100:5);return{columns:Rt,rows:g,initialPagination:{rowsPerPage:b},separator:"vertical",secondColumns:jt,mobileColumns:kt,secMobileColumns:St,activeProject:o,closedRequestsForProjectSummary:p}}}),Vt={class:"q-px-none"},At={class:"row text-caption"},Ft={class:"col-12 col-md-2"},Et=t("span",{class:"text-accent"},"Requests:",-1),Qt={class:"text-white q-ml-sm"},Ot={class:"col-12 col-md-2"},Tt=t("span",{class:"text-accent"},"Classifications:",-1),zt={class:"text-white q-ml-sm"},Ut={class:"col-12 col-md-2"},Mt=t("span",{class:"text-accent"},"Need:",-1),Bt={class:"text-white q-ml-sm"},Lt={class:"col-12 col-md-2"},Dt=t("span",{class:"text-accent"},"Offers:",-1),Jt={class:"text-white q-ml-sm"},It={class:"col-12 col-md-2"},Ht=t("span",{class:"text-accent"},"Avg. Rate:",-1),Wt={class:"text-white q-ml-sm"},Xt={class:"col-12 col-md-2"},Zt=t("span",{class:"text-accent"},"Avg. Time Open:",-1),Gt={class:"text-white q-ml-sm"},Kt={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Yt(e,o,u,p,g,b){return n(),c("div",Vt,[a(K,{class:"q-mb-md bg-dark"},{default:s(()=>[a(ee,{class:"q-pa-sm"},{default:s(()=>[t("div",At,[t("div",Ft,[t("div",null,[Et,t("span",Qt,i(e.closedRequestsForProjectSummary.requestCount),1)])]),t("div",Ot,[t("div",null,[Tt,t("span",zt,i(e.closedRequestsForProjectSummary.classCount),1)])]),t("div",Ut,[t("div",null,[Mt,t("span",Bt,i(e.closedRequestsForProjectSummary.need),1)])]),t("div",Lt,[t("div",null,[Dt,t("span",Jt,i(e.closedRequestsForProjectSummary.offers),1)])]),t("div",It,[t("div",null,[Ht,t("span",Wt,"$ "+i(e.closedRequestsForProjectSummary.avgRate),1)])]),t("div",Xt,[t("div",null,[Zt,t("span",Gt,i(e.closedRequestsForProjectSummary.avgDuration),1)])])])]),_:1})]),_:1}),a(L,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Completed Requests for ${e.activeProject[20]}`:"Completed Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no completed requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:s(l=>[a(y,{class:"bg-dark text-white",props:l},{default:s(()=>[a(_,{"auto-width":""}),(n(!0),c(k,null,j(l.cols,r=>(n(),f(_,{key:r.name,props:l},{default:s(()=>[C(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":s(({message:l})=>[t("div",Kt,[a(Y,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(l),1)])]),body:s(l=>[a(y,{props:l},{default:s(()=>[a(v,{"auto-width":""},{default:s(()=>[a(q,{size:"sm",color:"primary",round:"",dense:"",onClick:r=>l.expand=!l.expand,icon:l.expand?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024),(n(!0),c(k,null,j(l.cols,r=>(n(),f(v,{key:r.name,props:l},{default:s(()=>[C(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),W(a(y,{props:l},{default:s(()=>[a(v,{colspan:"100%"},{default:s(()=>[t("div",null,[a(L,{dense:"",title:"Classifications","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:l.row.classes,"row-key":"3","table-header-class":"bg-secondary"},null,8,["columns","rows"])])]),_:2},1024)]),_:2},1032,["props"]),[[X,l.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var xt=D(Pt,[["render",Yt]]);const ea=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`}],ta=[{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],aa=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Quantity",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],sa=[{name:3,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Qty",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],oa=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,o)=>`${e} ${o[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e[10],format:e=>`${e}`}],la=Z({name:"Open Table",components:{},setup(e,o){const u=x(),{submitCancelRequest:p,submitCancelClassification:g}=Q(),{activeProject:b,pendingRequestsForProject:l,pendingRequestsForProjectSummary:r}=G(Q()),m=l,S=A(()=>u.screen.lt.md?100:5);function P(N){u.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(async()=>{try{await p({request:N}),u.notify({type:"positive",message:"Request Canceled!",position:"top-right"})}catch(T){u.notify({type:"negative",message:T,position:"top-right"})}})}function d(N){u.dialog({title:"Confirm",message:"Are you sure you want to cancel this classification?",cancel:!0,persistent:!0}).onOk(async()=>{try{await g({item:N}),u.notify({type:"positive",message:"Classification Removed!",position:"top-right"})}catch(T){u.notify({type:"negative",message:T,position:"top-right"})}})}function h(N){o.emit("addSomeNames",N)}function O(N){o.emit("removeName",N)}return{columns:ea,rows:m,initialPagination:{rowsPerPage:S},separator:"vertical",secondColumns:aa,mobileColumns:ta,secMobileColumns:sa,nameColumns:oa,activeProject:b,pendingRequestsForProjectSummary:r,cancelRequest:P,cancelClassification:d,addSomeNames:h,removeName:O}}}),ra={class:"q-px-none"},na={class:"row text-caption"},ia={class:"col-12 col-md-2"},da=t("span",{class:"text-accent"},"Total Requests:",-1),ma={class:"text-white q-ml-sm"},ua={class:"col-12 col-md-2"},ca=t("span",{class:"text-accent"},"Classifications:",-1),fa={class:"text-white q-ml-sm"},pa={class:"col-12 col-md-2"},ba=t("span",{class:"text-accent"},"Total Need:",-1),ha={class:"text-white q-ml-sm"},ga={class:"col-12 col-md-2"},$a=t("span",{class:"text-accent"},"Balance:",-1),qa={class:"text-white q-ml-sm"},va={class:"col-12 col-md-2"},ya=t("span",{class:"text-accent"},"Avg. Rate:",-1),wa={class:"text-white q-ml-sm"},Na={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Ca={class:"bg-accent"},_a=t("th",{class:"text-left"},"Name",-1),Ra=t("th",{class:"text-left"},"Phone",-1),ka=t("th",{class:"text-left"},"Status",-1),ja={key:0},Sa={class:"text-left"},Pa={class:"text-left"},Va={class:"text-left"},Aa={key:0,class:"text-center"};function Fa(e,o,u,p,g,b){return n(),c("div",ra,[a(K,{class:"q-mb-md bg-dark"},{default:s(()=>[a(ee,{class:"q-pa-sm"},{default:s(()=>[t("div",na,[t("div",ia,[t("div",null,[da,t("span",ma,i(e.pendingRequestsForProjectSummary.requestCount),1)])]),t("div",ua,[t("div",null,[ca,t("span",fa,i(e.pendingRequestsForProjectSummary.classCount),1)])]),t("div",pa,[t("div",null,[ba,t("span",ha,i(e.pendingRequestsForProjectSummary.need),1)])]),t("div",ga,[t("div",null,[$a,t("span",qa,i(e.pendingRequestsForProjectSummary.balance),1)])]),t("div",va,[t("div",null,[ya,t("span",wa,"$ "+i(e.pendingRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),a(L,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Pending Requests for ${e.activeProject[20]}`:"Pending Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no pending requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:s(l=>[a(y,{class:"bg-dark text-white",props:l},{default:s(()=>[a(_,{"auto-width":""}),(n(!0),c(k,null,j(l.cols,r=>(n(),f(_,{key:r.name,props:l},{default:s(()=>[C(i(r.label),1)]),_:2},1032,["props"]))),128)),a(_,{"auto-width":""})]),_:2},1032,["props"])]),"no-data":s(({message:l})=>[t("div",Na,[a(Y,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(l),1)])]),body:s(l=>[a(y,{props:l},{default:s(()=>[a(v,{"auto-width":""},{default:s(()=>[a(q,{size:e.$q.screen.gt.sm?"sm":"xs",color:"primary",round:"",dense:"",onClick:r=>l.expand=!l.expand,icon:l.expand?"remove":"add"},null,8,["size","onClick","icon"])]),_:2},1024),(n(!0),c(k,null,j(l.cols,r=>(n(),f(v,{key:r.name,props:l},{default:s(()=>[C(i(r.value),1)]),_:2},1032,["props"]))),128)),a(v,{"auto-width":""},{default:s(()=>[a(q,{size:"sm",color:"primary",onClick:r=>e.cancelRequest(l.row),label:"Cancel"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"]),W(a(y,{props:l},{default:s(()=>[a(v,{colspan:"100%"},{default:s(()=>[a(L,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:l.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:s(r=>[a(y,{class:"bg-dark text-white",props:r},{default:s(()=>[a(_,{"auto-width":""}),(n(!0),c(k,null,j(r.cols,m=>(n(),f(_,{key:m.name,props:r},{default:s(()=>[C(i(m.label),1)]),_:2},1032,["props"]))),128)),a(_,{"auto-width":""})]),_:2},1032,["props"])]),body:s(r=>[a(y,{props:r},{default:s(()=>[a(v,{"auto-width":""},{default:s(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),f(q,{key:0,size:e.$q.screen.gt.sm?"sm":"xs",color:"primary",round:"",dense:"",onClick:m=>r.expand=!r.expand,icon:r.expand?"remove":"add"},null,8,["size","onClick","icon"])):$("",!0)]),_:2},1024),(n(!0),c(k,null,j(r.cols,m=>(n(),f(v,{key:m.name,props:r},{default:s(()=>[C(i(m.value),1)]),_:2},1032,["props"]))),128)),a(v,{"auto-width":""},{default:s(()=>[a(q,{size:"sm",color:"primary",onClick:m=>e.cancelClassification(r.row),label:"remove"},null,8,["onClick"]),e.$can("create","nameRequests")?(n(),f(q,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:m=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):$("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?W((n(),f(y,{key:0,props:r},{default:s(()=>[a(v,{colspan:"100%"},{default:s(()=>[a(be,{dense:"",flat:"",bordered:"",separator:"none"},{default:s(()=>[t("thead",Ca,[t("tr",null,[_a,Ra,ka,e.$can("create","nameRequests")?(n(),c("th",ja)):$("",!0)])]),t("tbody",null,[(n(!0),c(k,null,j(r.row.names,m=>(n(),c("tr",{key:m[3]},[t("td",Sa,i(m[6])+" "+i(m[7]),1),t("td",Pa,i(m[8]),1),t("td",Va,i(m[10]),1),e.$can("create","nameRequests")?(n(),c("td",Aa,[a(q,{size:"sm",color:"accent",onClick:S=>e.removeName(m),label:"Remove"},null,8,["onClick"])])):$("",!0)]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[X,r.expand]]):$("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[X,l.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var Ea=D(la,[["render",Fa]]);const Qa=Z({components:{},setup(){const{addedClassifications:e,addedNames:o}=G(Q()),{pushName:u}=Q(),p=M(10),g=M(null),b=A(()=>{const R=new RegExp("^[0-9]{"+p.value+"}","g");return z({job:z().required("Classification is required"),firstName:B().required().label("First Name"),lastName:B().required().label("Last Name"),phoneNumber:B().matches(R,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:B().matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:l,errors:r,handleSubmit:m,handleReset:S}=te({validationSchema:b}),{value:P}=w("job"),{value:d}=w("firstName"),{value:h}=w("lastName"),{value:O}=w("phoneNumber"),{value:N}=w("ssn"),T=m(async R=>{console.log(R);const J={classification:R.job,id:o.value.length+1,firstName:R.firstName,lastName:R.lastName,phone:R.phoneNumber,ssn:R.ssn};console.log(J),u(J),S()}),E=R=>{g.value=R},V=R=>{p.value=R};return console.log(e.value),{job:P,firstName:d,lastName:h,phoneNumber:O,ssn:N,formMeta:l,formErrors:r,submit:T,addedClassifications:e,updateCountry:E,updatePhoneMaxLength:V}}}),Oa=t("div",{class:"row justify-between q-mb-sm"},[t("div",{class:"col-12 col-md-6"},[t("div",{class:"text-dark text-body1"},"Add Names")])],-1),Ta={class:"row"},za={class:"col-12 col-md-6 q-px-sm"},Ua={class:"text-caption"},Ma={class:"text-caption"},Ba={class:"text-caption"},La={class:"text-caption"},Da={class:"col-12 col-md-5 q-px-sm"},Ja={class:"text-caption"},Ia={class:"q-mt-md",align:"right"};function Ha(e,o,u,p,g,b){return n(),c("div",{class:de(e.$q.screen.lt.md?"q-pt-md":"")},[Oa,a(se,{onSubmit:ae(e.submit,["prevent"])},{default:s(()=>[t("div",Ta,[t("div",za,[a(U,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":o[0]||(o[0]=l=>e.firstName=l),error:!!e.formErrors.firstName,"bottom-slots":""},{error:s(()=>[t("div",Ua,i(e.formErrors.firstName),1)]),_:1},8,["modelValue","error"]),a(U,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":o[1]||(o[1]=l=>e.lastName=l),error:!!e.formErrors.lastName,"bottom-slots":""},{error:s(()=>[t("div",Ma,i(e.formErrors.lastName),1)]),_:1},8,["modelValue","error"]),a(U,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":o[2]||(o[2]=l=>e.phoneNumber=l),error:!!e.formErrors.phoneNumber,"bottom-slots":""},{error:s(()=>[t("div",Ba,i(e.formErrors.phoneNumber),1)]),_:1},8,["modelValue","error"]),a(U,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":o[3]||(o[3]=l=>e.ssn=l),error:!!e.formErrors.ssn,"bottom-slots":""},{error:s(()=>[t("div",La,i(e.formErrors.ssn),1)]),_:1},8,["modelValue","error"])]),t("div",Da,[a(H,{dense:"",label:"Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":o[4]||(o[4]=l=>e.job=l),options:e.addedClassifications,"option-label":"label","display-value":`${e.job?e.job.label:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:s(()=>[t("div",Ja,i(e.formErrors.job),1)]),_:1},8,["modelValue","options","display-value","error"])])]),t("div",Ia,[a(q,{class:"q-mr-sm",size:"sm",color:"secondary",label:"Back",onClick:o[5]||(o[5]=l=>e.$emit("closeNames"))}),a(q,{type:"submit",size:"sm",color:"primary",label:"Save"})])]),_:1},8,["onSubmit"])],2)}var Wa=D(Qa,[["render",Ha]]);const Xa=Z({components:{AddNames:Wa},setup(){const{requestOptions:e,addedClassifications:o}=G(Q()),{pushClassification:u}=Q(),p=M(!1),g=A(()=>e.value.crafts),b=A(()=>d.value&&d.value!==void 0?d.value.classifications:[]),l=z({craft:z().required("Craft is required.").nullable(),job:z().required("Classification is required.").nullable(),rate:ue().required("Rate is required.").nullable(),qty:ue().required("Craft is required.").nullable()}),{meta:r,errors:m,handleSubmit:S,handleReset:P}=te({validationSchema:l}),{value:d}=w("craft"),{value:h}=w("job"),{value:O}=w("rate"),{value:N}=w("qty"),T=S(async E=>{console.log(E);const V={id:o.value.length+1,craft:E.craft,job:E.job,rate:E.rate,qty:E.qty,label:E.job[18],names:[]};console.log(V),u(V),P()});return{crafts:g,jobs:b,craft:d,job:h,rate:O,qty:N,formMeta:r,formErrors:m,submit:T,showAddNames:p,addedClassifications:o}}}),Za={class:"row justify-between q-mb-sm"},Ga=t("div",{class:"col-12 col-md-6"},[t("div",{class:"text-dark text-body1"},"Add Classifications")],-1),Ka={key:0,align:"right",class:"col-12 col-md-6"},Ya={class:"row items-center"},xa={class:"col-12 col-md-3 q-px-sm"},es={class:"text-caption"},ts={class:"col-12 col-md-4 q-px-sm"},as={class:"text-caption"},ss={class:"col-12 col-md-2 q-px-sm"},os={key:0},ls={key:1,class:"text-negative"},rs={class:"text-caption"},ns={class:"col-12 col-md-2 q-px-sm"},is={class:"text-caption"},ds={key:1};function ms(e,o,u,p,g,b){const l=I("add-names");return n(),c("div",null,[e.showAddNames?$("",!0):(n(),c("div",{key:0,class:de(e.$q.screen.lt.md?"q-pt-md":"")},[t("div",Za,[Ga,e.addedClassifications.length>0&&e.$can("create","nameRequests")?(n(),c("div",Ka,[a(q,{dense:"",color:"info",label:"Add Names",icon:"add",onClick:o[0]||(o[0]=r=>e.showAddNames=!0)})])):$("",!0)]),a(se,{onSubmit:ae(e.submit,["prevent"])},{default:s(()=>[t("div",Ya,[t("div",xa,[a(H,{dense:"",label:"Select a Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.craft,"onUpdate:modelValue":o[1]||(o[1]=r=>e.craft=r),options:e.crafts,"option-label":"10","display-value":`${e.craft?e.craft[10]:""}`,"bottom-slots":"",error:!!e.formErrors.craft},{error:s(()=>[t("div",es,i(e.formErrors.craft),1)]),_:1},8,["modelValue","options","display-value","error"])]),t("div",ts,[a(H,{dense:"",label:"Select a Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":o[2]||(o[2]=r=>e.job=r),options:e.jobs,"option-label":"18","display-value":`${e.job?e.job[18]:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:s(()=>[t("div",as,i(e.formErrors.job),1)]),_:1},8,["modelValue","options","display-value","error"])]),t("div",ss,[a(U,{dense:"",type:"number",modelValue:e.rate,"onUpdate:modelValue":o[3]||(o[3]=r=>e.rate=r),"bottom-slots":"",error:!!e.formErrors.rate,prefix:"$","label-slot":""},{label:s(()=>[!e.rate||e.job.avgRate&&e.rate<=e.job.avgRate?(n(),c("span",os,"Rate")):$("",!0),e.rate&&e.job&&e.rate>e.job.avgRate?(n(),c("span",ls,"Avg rate $ "+i(e.job.avgRate.toFixed(2)),1)):$("",!0)]),error:s(()=>[t("div",rs,i(e.formErrors.rate),1)]),_:1},8,["modelValue","error"])]),t("div",ns,[a(U,{dense:"",type:"number",label:"Qty",modelValue:e.qty,"onUpdate:modelValue":o[4]||(o[4]=r=>e.qty=r),"bottom-slots":"",error:!!e.formErrors.qty},{error:s(()=>[t("div",is,i(e.formErrors.qty),1)]),_:1},8,["modelValue","error"])]),t("div",{class:de(["col-12 col-md-1",e.$q.screen.lt.md?"text-right":"q-px-sm"])},[a(q,{type:"submit",size:"sm",color:"primary",round:e.$q.screen.gt.sm,icon:"add",label:e.$q.screen.gt.sm?"":"Add Classification"},null,8,["round","label"])],2)])]),_:1},8,["onSubmit"])],2)),e.showAddNames?(n(),c("div",ds,[a(l,{onCloseNames:o[5]||(o[5]=r=>e.showAddNames=!1)})])):$("",!0)])}var us=D(Xa,[["render",ms]]);const cs=Z({props:{job:Object},setup(e,o){const u=x(),{addedNames:p}=G(Q()),{upsertName:g}=Q(),b=M(10),{capitalize:l}=Oe,r=A(()=>{const V=new RegExp("^[0-9]{"+b.value+"}","g");return z({firstName:B().required().label("First Name"),lastName:B().required().label("Last Name"),phoneNumber:B().matches(V,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:B().min(4).max(4).matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:m,errors:S,handleSubmit:P,handleReset:d}=te({validationSchema:r}),{value:h}=w("firstName"),{value:O}=w("lastName"),{value:N}=w("phoneNumber"),{value:T}=w("ssn"),E=P(async V=>{console.log(V),u.loading.show();const R={classification:e.job,id:p.value.length+1,firstName:l(V.firstName.toLowerCase()),lastName:l(V.lastName.toLowerCase()),phone:V.phoneNumber,ssn:V.ssn},J=await g({name:R,action:"create"});console.log(J),d(),u.loading.hide(),o.emit("newNameAdded")});return{firstName:h,lastName:O,phoneNumber:N,ssn:T,formMeta:m,formErrors:S,submit:E}}});function fs(e,o,u,p,g,b){return n(),c("div",null,[t("div",null,[a(se,{onSubmit:ae(e.submit,["prevent"])},{default:s(()=>[a(K,null,{default:s(()=>[a(ee,null,{default:s(()=>[a(U,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":o[0]||(o[0]=l=>e.firstName=l),error:!!e.formErrors.firstName},null,8,["modelValue","error"]),a(U,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":o[1]||(o[1]=l=>e.lastName=l),error:!!e.formErrors.lastName},null,8,["modelValue","error"]),a(U,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":o[2]||(o[2]=l=>e.phoneNumber=l),error:!!e.formErrors.phoneNumber},null,8,["modelValue","error"]),a(U,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":o[3]||(o[3]=l=>e.ssn=l),error:!!e.formErrors.ssn},null,8,["modelValue","error"])]),_:1}),a(pe),a(me,{class:"bg-accent",align:"right"},{default:s(()=>[a(q,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:o[4]||(o[4]=l=>e.$emit("closeNames"))},null,8,["size"]),a(q,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])}var ps=D(cs,[["render",fs]]);const bs=[{name:1,label:"Craft",align:"left",field:e=>e.craft[10],format:e=>`${e}`,sortable:!0},{name:2,label:"Classification",align:"left",field:e=>e.job[18],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Rate",align:"left",field:e=>e.rate,format:e=>`${e}`,sortable:!0},{name:4,label:"Qty",align:"left",field:e=>e.qty,format:e=>`${e}`,sortable:!0,required:!0}],hs=[{name:1,label:"Name",align:"left",field:e=>e.firstName,format:(e,o)=>`${e} ${o.lastName}`,sortable:!0},{name:2,label:"Phone",align:"left",field:e=>e.phone,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Last 4",align:"left",field:e=>e.ssn,format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.classification.job[18],format:e=>`${e}`,sortable:!0,required:!0}],gs=Z({name:"Requests",components:{openTable:_t,closedTable:xt,pendingTable:Ea,addClassifications:us,addNamesDialog:ps},setup(){const e=x(),{requestOptions:o,getClassifications:u,openRequestsForProject:p,pendingRequestsForProject:g,closedRequestsForProject:b}=G(Q()),{storeRequest:l,resetRequest:r,spliceClassification:m,spliceName:S,upsertName:P}=Q(),d=M(0),h=M(!1),O=M(!1),N=M(null);Te(u,()=>{console.log(u.value)});const T=z({jobNumber:z().required("Job number is required."),contact:z().required().nullable("Contact is required."),location:z().required().nullable("Location is required."),perdiem:z().nullable(),dateNeeded:ze().required().nullable("Date needed is required.")}),{meta:E,errors:V,handleSubmit:R,handleReset:J}=te({validationSchema:T}),{value:he}=w("jobNumber"),{value:ge}=w("contact"),{value:$e}=w("location"),{value:qe}=w("perdiem"),{value:ve}=w("dateNeeded"),ye=R(async F=>{console.log(F),l({request:F}),J(),d.value=1,h.value=!1,e.notify({type:"positive",message:"Request submitted!"})}),we=A(()=>{const F=[];return u.value.forEach(Fe=>{Fe.names.forEach(Ee=>{F.push(Ee)})}),F}),Ne=A(()=>o.value.jobNumbers),Ce=A(()=>o.value.perdiem.length>0?o.value.perdiem:null),_e=A(()=>o.value.locations),Re=A(()=>o.value.contacts);function ke(){e.dialog({title:"Confirm",message:"Are you sure you want to cancel? All of your progress will be lost.",cancel:!0,persistent:!0}).onOk(()=>{r(),h.value=!1,J()})}function je(F){e.dialog({title:"Confirm",message:"Are you sure you want to delete this classification?",cancel:!0,persistent:!0}).onOk(()=>{m({item:F})})}function Se(F){e.dialog({title:"Confirm",message:"Are you sure you want to delete this name?",cancel:!0,persistent:!0}).onOk(()=>{S({item:F})})}function Pe(F){e.dialog({title:"Confirm",message:"Are you sure you want to delete this name?",cancel:!0,persistent:!0}).onOk(async()=>{await P({name:F,action:"delete"}),e.notify({type:"positive",message:"Name deleted!"})})}function Ve(F){N.value=F,O.value=!0}function Ae(){e.notify({type:"positive",message:"New name added!"}),N.value=null,O.value=!1}return{tab:d,showNew:h,getClassifications:u,columns:bs,nameColumns:hs,jobNumbers:Ne,perdiems:Ce,locations:_e,contacts:Re,submitRequest:ye,jobNumber:he,contact:ge,location:$e,perdiem:qe,dateNeeded:ve,formMeta:E,formErrors:V,removeClassification:je,cancelNew:ke,openRequestsForProject:p,pendingRequestsForProject:g,closedRequestsForProject:b,removeName:Se,names:we,addSomeNames:Ve,showAddSomeNames:O,jobForNewName:N,newNameAdded:Ae,deleteName:Pe}}}),$s={class:"q-px-sm"},qs={class:"row justify-between"},vs={class:"col-12 col-md-5 q-pr-lg"},ys={class:"text-caption"},ws={class:"text-caption"},Ns={class:"text-caption"},Cs={class:"text-caption"},_s={class:"text-caption"},Rs={class:"col-12 col-md-7"},ks={class:"q-mt-md"},js={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Ss={key:1,class:"q-mt-md"},Ps={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Vs(e,o,u,p,g,b){const l=I("open-table"),r=I("pending-table"),m=I("closed-table"),S=I("add-classifications"),P=I("add-names-dialog");return n(),c("div",null,[t("div",$s,[a(ce,{duration:100},{default:s(()=>[W(t("div",null,[e.$q.screen.lt.md?(n(),f(K,{key:0,flat:"",class:"q-mb-sm q-mt-none q-pt-none"},{default:s(()=>[a(me,{align:"right"},{default:s(()=>[e.$can("create","projectRequests")?(n(),f(q,{key:0,dense:"",color:"primary",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:o[0]||(o[0]=d=>e.showNew=!0)},null,8,["label"])):$("",!0)]),_:1})]),_:1})):$("",!0),a(Ue,{class:"bg-info text-white shadow-2 rounded-borders"},{default:s(()=>[a(Le,{modelValue:e.tab,"onUpdate:modelValue":o[1]||(o[1]=d=>e.tab=d),"bg-color":"none","indicator-color":"accent",align:"justify"},{default:s(()=>[a(le,{name:0,label:e.$q.screen.gt.xs?"Open Requests":"Open"},{default:s(()=>[e.openRequestsForProject.length>0?(n(),f(oe,{key:0,color:"accent",floating:"",transparent:""},{default:s(()=>[C(i(e.openRequestsForProject.length),1)]),_:1})):$("",!0)]),_:1},8,["label"]),a(le,{name:1,label:e.$q.screen.gt.xs?"Pending Requests":"Pending"},{default:s(()=>[e.pendingRequestsForProject.length>0?(n(),f(oe,{key:0,color:"accent",floating:"",transparent:""},{default:s(()=>[C(i(e.pendingRequestsForProject.length),1)]),_:1})):$("",!0)]),_:1},8,["label"]),a(le,{name:2,label:e.$q.screen.gt.xs?"Completed Requests":"Completed"},{default:s(()=>[e.closedRequestsForProject.length>0?(n(),f(oe,{key:0,color:"accent",floating:"",transparent:""},{default:s(()=>[C(i(e.closedRequestsForProject.length),1)]),_:1})):$("",!0)]),_:1},8,["label"])]),_:1},8,["modelValue"]),a(Je),!e.showNew&&e.$q.screen.gt.sm?(n(),f(q,{key:0,dense:"",color:"accent",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:o[2]||(o[2]=d=>e.showNew=!0)},null,8,["label"])):$("",!0)]),_:1}),a(De,{modelValue:e.tab,"onUpdate:modelValue":o[3]||(o[3]=d=>e.tab=d),animated:""},{default:s(()=>[a(re,{name:0},{default:s(()=>[a(l,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),a(re,{name:1},{default:s(()=>[a(r,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),a(re,{name:2},{default:s(()=>[a(m)]),_:1})]),_:1},8,["modelValue"])],512),[[X,!e.showNew]])]),_:1}),a(ce,{duration:100},{default:s(()=>[W(t("div",null,[a(K,null,{default:s(()=>[a(se,{onSubmit:ae(e.submitRequest,["prevent"])},{default:s(()=>[a(ee,null,{default:s(()=>[t("div",qs,[t("div",vs,[a(H,{class:"q-mb-sm",dense:"",label:"Select Job Number","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.jobNumber,"onUpdate:modelValue":o[4]||(o[4]=d=>e.jobNumber=d),options:e.jobNumbers,"option-label":"11","display-value":`${e.jobNumber?e.jobNumber[11]:""}`,"bottom-slots":"",error:!!e.formErrors.jobNumber},{error:s(()=>[t("div",ys,i(e.formErrors.jobNumber),1)]),_:1},8,["modelValue","options","display-value","error"]),a(H,{class:"q-mb-sm",dense:"",label:"Select Contact","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.contact,"onUpdate:modelValue":o[5]||(o[5]=d=>e.contact=d),options:e.contacts,"option-label":"17","display-value":`${e.contact?e.contact[17]:""}`,"bottom-slots":"",error:!!e.formErrors.contact},{error:s(()=>[t("div",ws,i(e.formErrors.contact),1)]),_:1},8,["modelValue","options","display-value","error"]),a(H,{class:"q-mb-sm",dense:"",label:"Select Meeting Location","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.location,"onUpdate:modelValue":o[6]||(o[6]=d=>e.location=d),options:e.locations,"option-label":"6","display-value":`${e.location?e.location[6]:""}`,"bottom-slots":"",error:!!e.formErrors.location},{error:s(()=>[t("div",Ns,i(e.formErrors.location),1)]),_:1},8,["modelValue","options","display-value","error"]),a(H,{class:"q-mb-sm",dense:"",label:"Per Diem","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.perdiem,"onUpdate:modelValue":o[7]||(o[7]=d=>e.perdiem=d),options:e.perdiems,"option-label":"20","display-value":`${e.perdiem?e.perdiem[20]:""}`,"bottom-slots":"",error:!!e.formErrors.perdiem},{error:s(()=>[t("div",Cs,i(e.formErrors.perdiem),1)]),_:1},8,["modelValue","options","display-value","error"]),a(U,{dense:"",type:"date",modelValue:e.dateNeeded,"onUpdate:modelValue":o[8]||(o[8]=d=>e.dateNeeded=d),"bottom-slots":"",error:!!e.formErrors.dateNeeded,label:"Date Needed","stack-label":""},{error:s(()=>[t("div",_s,i(e.formErrors.dateNeeded),1)]),_:1},8,["modelValue","error"])]),t("div",Rs,[e.$q.screen.lt.md?(n(),f(pe,{key:0,color:"primary"})):$("",!0),a(S),t("div",ks,[a(L,{dense:"",rows:e.getClassifications,"row-key":"id",columns:e.columns,"table-header-class":"bg-secondary","no-data-label":"At least one classification is required."},{"no-data":s(({message:d})=>[t("div",js,[a(Y,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(d),1)])]),header:s(d=>[a(y,{class:"bg-dark text-white",props:d},{default:s(()=>[(n(!0),c(k,null,j(d.cols,h=>(n(),f(_,{key:h.name,props:d},{default:s(()=>[C(i(h.label),1)]),_:2},1032,["props"]))),128)),a(_,{"auto-width":""})]),_:2},1032,["props"])]),body:s(d=>[a(y,{props:d},{default:s(()=>[(n(!0),c(k,null,j(d.cols,h=>(n(),f(v,{key:h.name,props:d},{default:s(()=>[C(i(h.value),1)]),_:2},1032,["props"]))),128)),a(v,{"auto-width":""},{default:s(()=>[a(q,{size:"xs",round:"",color:"primary",onClick:h=>e.removeClassification(d.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),e.names.length>0&&e.$can("read","nameRequests")?(n(),c("div",Ss,[a(L,{dense:"",rows:e.names,"row-key":"id",columns:e.nameColumns,"table-header-class":"bg-secondary","no-data-label":"No names added."},{"no-data":s(({message:d})=>[t("div",Ps,[a(Y,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(d),1)])]),header:s(d=>[a(y,{class:"bg-dark text-white",props:d},{default:s(()=>[(n(!0),c(k,null,j(d.cols,h=>(n(),f(_,{key:h.name,props:d},{default:s(()=>[C(i(h.label),1)]),_:2},1032,["props"]))),128)),a(_,{"auto-width":""})]),_:2},1032,["props"])]),body:s(d=>[a(y,{props:d},{default:s(()=>[(n(!0),c(k,null,j(d.cols,h=>(n(),f(v,{key:h.name,props:d},{default:s(()=>[C(i(h.value),1)]),_:2},1032,["props"]))),128)),a(v,{"auto-width":""},{default:s(()=>[a(q,{size:"xs",round:"",color:"primary",onClick:h=>e.removeName(d.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])):$("",!0)])])]),_:1}),a(me,{align:"right"},{default:s(()=>[a(q,{color:"dark",label:"Cancel",onClick:e.cancelNew},null,8,["onClick"]),a(q,{disabled:!e.getClassifications.length>0,color:"primary",label:"Submit",type:"submit"},null,8,["disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})],512),[[X,e.showNew]])]),_:1})]),a(Me,{modelValue:e.showAddSomeNames,"onUpdate:modelValue":o[10]||(o[10]=d=>e.showAddSomeNames=d),persistent:""},{default:s(()=>[a(P,{job:e.jobForNewName,onCloseNames:o[9]||(o[9]=d=>e.showAddSomeNames=!1),onNewNameAdded:e.newNameAdded},null,8,["job","onNewNameAdded"])]),_:1},8,["modelValue"])])}var As=D(gs,[["render",Vs]]);const Fs={name:"Requests",components:{RequestPage:As},setup(){return{}}};function Es(e,o,u,p,g,b){const l=I("request-page");return n(),f(Be,{style:{"max-width":"100vw"}},{default:s(()=>[a(l)]),_:1})}var Ms=D(Fs,[["render",Es]]);export{Ms as default};
