var Me=Object.defineProperty,Qe=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var Ne=(e,t,r)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ke=(e,t)=>{for(var r in t||(t={}))Ie.call(t,r)&&Ne(e,r,t[r]);if(Ce)for(var r of Ce(t))Oe.call(t,r)&&Ne(e,r,t[r]);return e},Se=(e,t)=>Qe(e,ze(t));import{bB as Le,bC as Ye,bD as Be,r as $,c as j,bE as Xe,w as pe,aB as We,h as ce,bF as ye,bG as He,bH as _e,g as Ge,l as L,bI as ie,bJ as H,bK as X,bL as Ke,bM as de,bN as J,q as z,_ as Y,p as d,t as v,v as s,d as a,bb as o,bO as _,bP as Q,a4 as p,bQ as G,bR as F,bS as Ze,bT as ae,bU as S,by as le,bV as oe,bW as se,aS as O,ag as A,F as ee,aR as te,ah as M,bX as xe,bY as et,bZ as tt,b_ as I,y as T,b$ as $e,al as Pe,c0 as ne,c1 as De,c2 as at,c3 as K,an as we,c4 as Ee,bd as je,bw as Ae,c5 as Re,c6 as Ue,c7 as lt,c8 as ot}from"./index.9b2fd398.js";import{Q as Z,a as be,b as x,c as ge,d as st}from"./QBadge.d9ccf65f.js";import{Q as Je,a as he}from"./QTable.77de07e2.js";import{Q as Te}from"./QSpace.d3bd75f9.js";var rt=Le({name:"QSplitter",props:Se(ke({},Ye),{modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]}),emits:["update:modelValue"],setup(e,{slots:t,emit:r}){const{proxy:{$q:m}}=Ge(),u=Be(e,m),c=$(null),i={before:$(null),after:$(null)},l=j(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(u.value===!0?" q-splitter--dark":"")),n=j(()=>e.horizontal===!0?"height":"width"),w=j(()=>e.reverse!==!0?"before":"after"),y=j(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function E(N){return(e.unit==="%"?N:Math.round(N))+e.unit}const P=j(()=>({[w.value]:{[n.value]:E(e.modelValue)}}));let R,b,f,h,D;function B(N){if(N.isFirst===!0){const q=c.value.getBoundingClientRect()[n.value];R=e.horizontal===!0?"up":"left",b=e.unit==="%"?100:q,f=Math.min(b,y.value[1],Math.max(y.value[0],e.modelValue)),h=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:m.lang.rtl===!0?-1:1)*(e.unit==="%"?q===0?0:100/q:1),c.value.classList.add("q-splitter--active");return}if(N.isFinal===!0){D!==e.modelValue&&r("update:modelValue",D),c.value.classList.remove("q-splitter--active");return}const g=f+h*(N.direction===R?-1:1)*N.distance[e.horizontal===!0?"y":"x"];D=Math.min(b,y.value[1],Math.max(y.value[0],g)),i[w.value].value.style[n.value]=E(D),e.emitImmediately===!0&&e.modelValue!==D&&r("update:modelValue",D)}const C=j(()=>[[Xe,B,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function U(N,g){N<g[0]?r("update:modelValue",g[0]):N>g[1]&&r("update:modelValue",g[1])}return pe(()=>e.modelValue,N=>{U(N,y.value)}),pe(()=>e.limits,()=>{We(()=>{U(e.modelValue,y.value)})}),()=>{const N=[ce("div",{ref:i.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:P.value.before},ye(t.before)),ce("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[He("div",{class:"q-splitter__separator-area absolute-full"},ye(t.separator),"sep",e.disable!==!0,()=>C.value)]),ce("div",{ref:i.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:P.value.after},ye(t.after))];return ce("div",{class:l.value,ref:c},_e(t.default,N))}}});const nt=L({props:{job:Object,craft:Object},setup(e,t){const r=ie(),{udpateProjectCrafts:m}=H(),u=j(()=>e.craft.options.jobs.find(f=>f[3]===e.job[13]).aliases),c=j(()=>X({alias:X().required().label("Custom Job Title"),fixedRate:Ke().moreThan(7.25,"Fixed rate must be greater than minimum wage.").lessThan(1e3).label("Fixed Rate").nullable()})),{meta:i,errors:l,handleSubmit:n,handleReset:w}=de({validationSchema:c,initialValues:{alias:{3:e.job[9],7:e.job[18]},fixedRate:e.job.fixedRate>0?e.job.fixedRate:null}}),{value:y}=J("alias"),{value:E}=J("fixedRate"),P=n(async b=>{console.log(b),r.loading.show();const f={3:{value:e.job[3]},20:{value:e.craft[3]}};y.value!=={3:e.job[9],7:e.job[18]}&&Object.assign(f,{9:{value:b.alias[3]}}),E.value!==e.job.fixedRate&&Object.assign(f,{155:{value:b.fixedRate}});try{const{data:h}=await z.upsertRecordsXML({to:"bpzpx5m7x",data:[f],fieldsToReturn:[153],formatObject:153});h.length>0&&(m({craft:h[0][153]}),w(),r.loading.hide(),r.notify({type:"positive",message:"New job added!"}),t.emit("closeEditJob"))}catch{r.notify({type:"negative",message:"Something went wrong"})}});async function R(b,f){r.dialog({title:"Confirm",message:`Confirm you want to add "${b}" as a new alias.`,cancel:!0,persistent:!0}).onOk(async()=>{try{const{data:h}=await z.upsertRecordsXML({to:"bpzpi5rjh",data:[{6:{value:e.job[13]},7:{value:b},11:{value:"No"}}],fieldsToReturn:[25],formatObject:25});console.log(h),h.length>0&&(y.value=h[0][25],f(h[0][25]))}catch{r.notify({type:"negative",message:"Something went wrong"})}}).onCancel(()=>{f()})}return{formMeta:i,formErrors:l,submit:P,alias:y,fixedRate:E,aliasOptions:u,submitAlias:R}}}),it={class:"text-body1 text-white"},dt={class:"text-caption"},ut={class:"text-caption"};function mt(e,t,r,m,u,c){return d(),v("div",null,[s("div",null,[a(oe,{onSubmit:le(e.submit,["prevent"])},{default:o(()=>[a(_,null,{default:o(()=>[a(Q,{class:"bg-dark"},{default:o(()=>[s("div",it,"Edit "+p(e.craft[10])+" "+p(e.job[18]),1)]),_:1}),a(Q,null,{default:o(()=>[a(G,{class:"q-mb-sm",dense:"",label:"Select Custom Job Title (Alias)","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.alias,"onUpdate:modelValue":t[0]||(t[0]=i=>e.alias=i),options:e.aliasOptions,"option-label":"7","display-value":`${e.alias?e.alias[7]:""}`,"bottom-slots":"",error:!!e.formErrors.alias,onNewValue:e.submitAlias,"use-input":""},{error:o(()=>[s("div",dt,p(e.formErrors.alias),1)]),_:1},8,["modelValue","options","display-value","error","onNewValue"]),a(F,{step:"any",prefix:"$",type:"number",dense:"",label:"Fixed Rate",modelValue:e.fixedRate,"onUpdate:modelValue":t[1]||(t[1]=i=>e.fixedRate=i),error:!!e.formErrors.fixedRate,"bottom-slots":""},{error:o(()=>[s("div",ut,p(e.formErrors.fixedRate),1)]),_:1},8,["modelValue","error"])]),_:1}),a(Ze),a(ae,{class:"bg-accent",align:"right"},{default:o(()=>[a(S,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:t[2]||(t[2]=i=>e.$emit("closeEditJob"))},null,8,["size"]),a(S,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])}var ct=Y(nt,[["render",mt]]);const ft=[{name:0,label:"Job Title",align:"left",field:e=>e[18],format:e=>`${e}`,sortable:!0,required:!0},{name:1,label:"Avg. Rate",align:"right",field:e=>e.avgRate,format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:3,label:"Times Requested",align:"right",field:e=>e.timesRequested,format:e=>`${e}`,sortable:!0},{name:4,label:"Quantity Requested",align:"right",field:e=>e.qtyRequested,format:e=>`${e}`,sortable:!0}],pt=L({components:{EditJobDialog:ct},setup(){const e=ie(),{projectCrafts:t,active:r}=se(H()),{udpateProjectCrafts:m}=H(),u=$(t.value[0][3]),c=$(!1),i=$(!1),l=$(null),n=$(null);pe(r,(g,q)=>{u.value=g.crafts.sort((k,ve)=>k.order>ve.order?1:-1)[0][3]});const w=j(()=>{const g=t.value.find(q=>q[3]===u.value).classifications;return g!==void 0?g.sort((q,k)=>q.order>k.order||q.order===k.order&&q.fixedRate>k.fixedRate?-1:1):[]}),y=X({job:X().required("Job is required."),alias:X().required("Alias is required.").nullable()}),{meta:E,errors:P,handleSubmit:R,handleReset:b}=de({validationSchema:y}),{value:f}=J("job"),{value:h}=J("alias"),D=R(async g=>{const q=t.value.find(k=>k[9]===g.job[13]);if(q===void 0)e.notify({type:"negative",message:"Something went wrong"});else try{const{data:k}=await z.upsertRecordsXML({to:"bpzpx5m7x",data:[{9:{value:g.alias[3]},13:{value:g.job[3]},20:{value:q[3]}}],fieldsToReturn:[153],formatObject:153});k.length>0&&(m({craft:k[0][153]}),b(),c.value=!1,e.notify({type:"positive",message:"New job added!"}))}catch{e.notify({type:"negative",message:"Something went wrong"})}});async function B(g,q){e.dialog({title:"Confirm",message:`Confirm you want to add "${g}" as a new alias.`,cancel:!0,persistent:!0}).onOk(async()=>{try{const{data:k}=await z.upsertRecordsXML({to:"bpzpi5rjh",data:[{6:{value:f.value[3]},7:{value:g},11:{value:"No"}}],fieldsToReturn:[25],formatObject:25});console.log(k),k.length>0&&(h.value=k[0][25],q(k[0][25]))}catch{e.notify({type:"negative",message:"Something went wrong"})}}).onCancel(()=>{q()})}function C(){c.value=!1,b()}function U({craft:g,job:q}){l.value=g,n.value=q,i.value=!0,console.log(g),console.log(q)}function N(){l.value=null,n.value=null,i.value=!1}return{projectCrafts:t,tab:u,columns:ft,initialPagination:{rowsPerPage:100},splitValue:$(20),showAddJob:c,showEditJob:i,formMeta:E,formErrors:P,job:f,alias:h,submitJob:D,submitAlias:B,cancelAddJob:C,editJob:U,rows:w,editJobCraft:l,editJobJob:n,closeEditJob:N}}}),bt={key:0},gt={key:0,class:"q-mb-sm"},vt=s("thead",{class:"bg-dark text-white"},[s("tr",null,[s("th",{class:"text-left"},"Job Title"),s("th",{class:"text-right"},"Fixed Rate"),s("th",{class:"text-right"},"Times Requested"),s("th",{class:"text-right"},"Qty Requested"),s("th")])],-1),yt={class:"text-left"},ht={class:"text-right"},$t={class:"text-right"},wt={class:"text-right"},qt={class:"text-right"},Vt={key:1},Ct={class:"row justify-between"},Nt={class:"col-5"},kt={class:"text-caption"},St={class:"col-6"},Et={class:"text-caption"},jt={key:1},At={key:0},Rt={class:"q-mb-sm"},Ut=s("thead",{class:"bg-dark text-white"},[s("tr",null,[s("th",{class:"text-left"},"Job Title"),s("th",{class:"text-right"},"Fixed Rate"),s("th",{class:"text-right"},"Avg. Rate"),s("th",{class:"text-right"},"Times Requested"),s("th",{class:"text-right"},"Quantity"),s("th")])],-1),Jt={class:"text-left"},Pt={class:"text-right"},Dt={class:"text-right"},Tt={class:"text-right"},Ft={class:"text-right"},Mt={class:"text-right"},Qt={key:1},zt={class:"text-caption"},It={class:"text-caption"};function Ot(e,t,r,m,u,c){const i=O("edit-job-dialog");return d(),v("div",null,[e.$q.screen.gt.sm?(d(),A(rt,{key:0,modelValue:e.splitValue,"onUpdate:modelValue":t[5]||(t[5]=l=>e.splitValue=l)},{before:o(()=>[a(be,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>e.tab=l),vertical:e.$q.screen.gt.md,align:"left","indicator-color":"accent","active-bg-color":"dark","active-color":"white"},{default:o(()=>[(d(!0),v(ee,null,te(e.projectCrafts,l=>(d(),A(Z,{key:l[3],name:l[3],label:l[10]},null,8,["name","label"]))),128))]),_:1},8,["modelValue","vertical"])]),after:o(()=>[a(ge,{modelValue:e.tab,"onUpdate:modelValue":t[4]||(t[4]=l=>e.tab=l),animated:"",vertical:e.$q.screen.gt.md},{default:o(()=>[(d(!0),v(ee,null,te(e.projectCrafts,l=>(d(),A(x,{key:l[3],name:l[3],class:"q-pt-none"},{default:o(()=>[e.showAddJob?(d(),v("div",Vt,[a(oe,{onSubmit:le(e.submitJob,["prevent"])},{default:o(()=>[a(_,{flat:""},{default:o(()=>[a(Q,null,{default:o(()=>[s("div",Ct,[s("div",Nt,[a(G,{class:"q-mb-sm",dense:"",label:"Select Default Job","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":t[2]||(t[2]=n=>e.job=n),options:l.options.jobs,"option-label":"9","display-value":`${e.job?e.job[9]:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:o(()=>[s("div",kt,p(e.formErrors.job),1)]),_:2},1032,["modelValue","options","display-value","error"])]),s("div",St,[a(G,{disable:!e.job,class:"q-mb-sm",dense:"",label:"Select Custom Job Title (Alias)","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.alias,"onUpdate:modelValue":t[3]||(t[3]=n=>e.alias=n),options:e.job?e.job.aliases:[],"option-label":"7","display-value":`${e.alias?e.alias[7]:""}`,"bottom-slots":"",error:!!e.formErrors.alias,onNewValue:e.submitAlias,"use-input":""},{error:o(()=>[s("div",Et,p(e.formErrors.alias),1)]),_:1},8,["disable","modelValue","options","display-value","error","onNewValue"])])])]),_:2},1024),a(ae,{align:"right"},{default:o(()=>[a(S,{color:"secondary",label:"Cancel",onClick:e.cancelAddJob},null,8,["onClick"]),a(S,{color:"primary",label:"Submit Job",type:"submit"})]),_:1})]),_:2},1024)]),_:2},1032,["onSubmit"])])):(d(),v("div",bt,[e.$can("create","jobs")?(d(),v("div",gt,[a(S,{color:"primary",label:"Add Another Job",onClick:t[1]||(t[1]=n=>e.showAddJob=!0)})])):M("",!0),a(Je,null,{default:o(()=>[vt,s("tbody",null,[(d(!0),v(ee,null,te(e.rows,n=>(d(),v("tr",{key:n[3]},[s("td",yt,p(n[18]),1),s("td",ht,p(n.fixedRate>0?`$ ${n.fixedRate.toFixed(2)}`:"Edit to Add"),1),s("td",$t,p(n.timesRequested),1),s("td",wt,p(n.qtyRequested),1),s("td",qt,[e.$can("manage","jobs")?(d(),A(S,{key:0,size:"sm",label:"edit",color:"primary",onClick:w=>e.editJob({craft:l,job:n})},null,8,["onClick"])):M("",!0)])]))),128))])]),_:2},1024)]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","vertical"])]),_:1},8,["modelValue"])):(d(),v("div",jt,[a(be,{modelValue:e.tab,"onUpdate:modelValue":t[6]||(t[6]=l=>e.tab=l),align:"left",class:"shadow-2","indicator-color":"accent"},{default:o(()=>[(d(!0),v(ee,null,te(e.projectCrafts,l=>(d(),A(Z,{key:l[3],name:l[3],label:l.abbr},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),a(ge,{modelValue:e.tab,"onUpdate:modelValue":t[10]||(t[10]=l=>e.tab=l),animated:""},{default:o(()=>[(d(!0),v(ee,null,te(e.projectCrafts,l=>(d(),A(x,{key:l[3],name:l[3]},{default:o(()=>[e.showAddJob?(d(),v("div",Qt,[a(oe,{onSubmit:le(e.submitJob,["prevent"])},{default:o(()=>[a(_,{flat:""},{default:o(()=>[a(Q,null,{default:o(()=>[a(G,{class:"q-mb-sm",dense:"",label:"Select Default Job","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":t[8]||(t[8]=n=>e.job=n),options:l.options.jobs,"option-label":"9","display-value":`${e.job?e.job[9]:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:o(()=>[s("div",zt,p(e.formErrors.job),1)]),_:2},1032,["modelValue","options","display-value","error"]),a(G,{disabled:!e.job,class:"q-mb-sm",dense:"",label:"Select Custom Job Title (Alias)","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.alias,"onUpdate:modelValue":t[9]||(t[9]=n=>e.alias=n),options:e.job?e.job.aliases:[],"option-label":"7","display-value":`${e.alias?e.alias[7]:""}`,"bottom-slots":"",error:!!e.formErrors.alias,onNewValue:e.submitAlias,"use-input":""},{error:o(()=>[s("div",It,p(e.formErrors.alias),1)]),_:1},8,["disabled","modelValue","options","display-value","error","onNewValue"])]),_:2},1024),a(ae,{align:"right"},{default:o(()=>[a(S,{color:"secondary",label:"Cancel",onClick:e.cancelAddJob},null,8,["onClick"]),a(S,{color:"primary",label:"Submit Job",type:"submit"})]),_:1})]),_:2},1024)]),_:2},1032,["onSubmit"])])):(d(),v("div",At,[s("div",Rt,[a(S,{color:"primary",label:"Add Another Job",onClick:t[7]||(t[7]=n=>e.showAddJob=!0)})]),a(Je,null,{default:o(()=>[Ut,s("tbody",null,[(d(!0),v(ee,null,te(e.rows,n=>(d(),v("tr",{key:n[3]},[s("td",Jt,p(n[18]),1),s("td",Pt,p(n.fixedRate>0?`$ ${n.fixedRate.toFixed(2)}`:"N/A"),1),s("td",Dt,"$ "+p(n.avgRate.toFixed(2)),1),s("td",Tt,p(n.timesRequested),1),s("td",Ft,p(n.qtyRequested),1),s("td",Mt,[a(S,{size:"sm",label:"edit",color:"primary",onClick:w=>e.editJob(n)},null,8,["onClick"])])]))),128))])]),_:1})]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])),a(xe,{modelValue:e.showEditJob,"onUpdate:modelValue":t[11]||(t[11]=l=>e.showEditJob=l),persistent:""},{default:o(()=>[a(i,{craft:e.editJobCraft,job:e.editJobJob,onCloseEditJob:e.closeEditJob},null,8,["craft","job","onCloseEditJob"])]),_:1},8,["modelValue"])])}var Lt=Y(pt,[["render",Ot]]);const Yt=L({components:{phoneNumberInput:et},setup(e,t){const r=ie(),m=$(10),u=$(null),{active:c}=se(H()),{userPermissions:i,getUser:l}=se(tt()),{addUser:n}=H(),w=j(()=>{const V=i.value.find(W=>W[7]==="create"&&W[16]==="users");return V!==void 0?V.roles:[]}),y=j(()=>{const V=new RegExp("^[0-9]{"+m.value+"}","g");return X({firstName:I().required().label("First Name"),lastName:I().required().label("Last Name"),email:I().email().required().label("Email"),phoneNumber:I().matches(V,{excludeEmptyString:!0,message:"Valid Phone Number Required!"}).required().label("Phone Number"),role:X().required().nullable().label("Role"),workdayId:I().required().label("Workday ID")})}),{meta:E,errors:P,handleSubmit:R,handleReset:b}=de({validationSchema:y}),{value:f}=J("firstName"),{value:h}=J("lastName"),{value:D}=J("email"),{value:B}=J("phoneNumber"),{value:C}=J("role"),{value:U}=J("workdayId"),N=R(async V=>{console.log(V);const W={userType:"Project User",phoneNumber:`+${u.value?u.value.dialCode:"1"}${V.phoneNumber}`,email:V.email};if(c.value.users.filter(re=>re[6]===W.email||re[8]===W.phoneNumber).length>0)r.dialog({title:"Alert",message:"Your project already has a user with that phone or email."}).onOk(()=>{t.emit("userAdded")});else{const re=await z.checkIfUserExist(W);if(re){const{data:ue}=await z.upsertRecordsXML({to:"br598isx6",data:[{6:{value:re[3]},7:{value:"Project"},9:{value:c.value[3]}}],fieldsToReturn:[28],formatObject:28});ue.length>0&&(n({user:ue[0][28]}),r.notify({type:"positive",message:"User successfully added"}),t.emit("userAdded"))}else{const ue=D.value.match(/^([^@]*)@/)[1],Fe=Object.assign({phoneNumber:B.value},u.value),{data:Ve}=await z.upsertRecordsXML({to:"br4pxrbs6",data:[{6:{value:V.email},7:{value:"temp"},8:{value:`+${u.value?u.value.dialCode:"1"}${V.phoneNumber}`},9:{value:JSON.stringify(Fe)},10:{value:"Active"},11:{value:V.role[3]},17:{value:!0},23:{value:l.value[3]},24:{value:l.value[3]},25:{value:new Date},26:{value:new Date},32:{value:"Project User"},33:{value:ue},35:{value:f.value},37:{value:h.value},49:{value:!0},50:{value:!0},70:{value:V.workdayId}}],fieldsToReturn:[3,96],formatObject:96});if(Ve[0]!==void 0){const me=await z.upsertRecordsXML({to:"br598isx6",data:[{6:{value:Ve[0][3]},7:{value:"Project"},9:{value:c.value[3]}}],fieldsToReturn:[28],formatObject:28});me.data[0]!==void 0&&(n({user:me.data[0][28]}),console.log(me.data[0][28]),r.dialog({title:"Confirm",message:"User successfully added. Would you like to send them an invite?",cancel:!0,persistent:!0}).onOk(async()=>{(await z.upsertRecordsXML({to:"br4pxrbs6",data:[{3:{value:me.data[0][28][3]},93:{value:new Date}}],fieldsToReturn:[3]})).data[0]!==void 0&&(r.notify({type:"positive",message:"User successfully added"}),r.notify({type:"positive",message:"User invite submitted"}),t.emit("userAdded"))}).onCancel(()=>{r.notify({type:"positive",message:"User successfully added"}),t.emit("userAdded")}))}}}b()}),g=j(()=>{const V=[];return c.value.users.forEach(W=>{V.push(W[9].phoneNumber)}),V});pe(B,V=>{g.value.includes(V)&&r.notify({type:"negative",message:"Phone Number is already in use!",timeout:1e4,position:r.screen.lt.md?"top":"center"})});const q=V=>{u.value=V},k=V=>{m.value=V};function ve(){b(),t.emit("userCanceled")}return console.log(i.value,g.value),{updateCountry:q,updatePhoneMaxLength:k,firstName:f,lastName:h,email:D,phoneNumber:B,role:C,workdayId:U,formMeta:E,formErrors:P,submitUser:N,active:c,roleOptions:w,cancel:ve}}}),Bt=s("div",{class:"text-primary text-h6 q-mb-sm"},"Add a New User",-1),Xt={class:"row justify-between"},Wt={class:"row justify-between"},Ht={class:"text-caption"},_t={class:"text-caption"};function Gt(e,t,r,m,u,c){const i=O("phone-number-input");return d(),v("div",null,[a(_,null,{default:o(()=>[a(oe,{onSubmit:le(e.submitUser,["prevent"])},{default:o(()=>[a(Q,null,{default:o(()=>[Bt,s("div",Xt,[s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",outlined:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=l=>e.firstName=l),error:!!e.formErrors.firstName},null,8,["modelValue","error"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",outlined:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=l=>e.lastName=l),error:!!e.formErrors.lastName},null,8,["modelValue","error"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",outlined:"",label:"Workday ID",modelValue:e.workdayId,"onUpdate:modelValue":t[2]||(t[2]=l=>e.workdayId=l),error:!!e.formErrors.workdayId},null,8,["modelValue","error"])],2)]),s("div",Wt,[s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(i,{name:"phoneNumber",class:"col-xs-12 col-sm-12",outlined:"",modelValue:e.phoneNumber,"onUpdate:modelValue":t[3]||(t[3]=l=>e.phoneNumber=l),label:"Phone Number",tabindex:"3",onMaxLengthChanged:e.updatePhoneMaxLength,error:!!e.formErrors.phoneNumber,"error-message":e.formErrors.phoneNumber,onCountryChanged:e.updateCountry,dense:""},null,8,["modelValue","onMaxLengthChanged","error","error-message","onCountryChanged"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",outlined:"",label:"Email","bottom-slots":"",modelValue:e.email,"onUpdate:modelValue":t[4]||(t[4]=l=>e.email=l),error:!!e.formErrors.email},{error:o(()=>[s("div",Ht,p(e.formErrors.email),1)]),_:1},8,["modelValue","error"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(G,{dense:"",outlined:"",label:"Role","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.role,"onUpdate:modelValue":t[5]||(t[5]=l=>e.role=l),options:e.roleOptions,"option-label":"6","display-value":`${e.role?e.role[6]:""}`,"bottom-slots":"",error:!!e.formErrors.role},{error:o(()=>[s("div",_t,p(e.formErrors.role),1)]),_:1},8,["modelValue","options","display-value","error"])],2)])]),_:1}),a(ae,{align:"right"},{default:o(()=>[a(S,{color:"secondary",onClick:e.cancel,label:"Cancel"},null,8,["onClick"]),a(S,{color:"primary",type:"submit",label:"Submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})])}var Kt=Y(Yt,[["render",Gt]]);const Zt=[{name:0,label:"Date Created",align:"left",field:e=>e[1],format:e=>`${$e.formatDate(e.$d,"MM/DD/YYYY")}`,sortable:!0},{name:1,label:"Name",align:"left",field:e=>e[35],format:(e,t)=>`${e} ${t[37]}`,sortable:!0},{name:2,label:"Role",align:"left",field:e=>e[44],format:e=>`${e}`,sortable:!0},{name:3,label:"Email",align:"left",field:e=>e[6],format:e=>`${e}`,sortable:!0},{name:4,label:"Last Access",align:"left",field:e=>e.lastLogin,format:(e,t)=>`${t.registered?e.date:"Never"}`,sortable:!0}],xt=L({components:{CreateUser:Kt},setup(){const{usersForProject:e}=se(H()),t=$(!1);function r(){t.value=!1}function m(u){console.log(u)}return{usersForProject:e,columns:Zt,initialPagination:{rowsPerPage:100},showAddUser:t,userAdded:r,sendInvite:m}}}),ea={key:1};function ta(e,t,r,m,u,c){const i=O("create-user");return d(),v("div",null,[e.showAddUser?(d(),v("div",ea,[a(i,{onUserAdded:e.userAdded,onUserCanceled:t[1]||(t[1]=l=>e.showAddUser=!1)},null,8,["onUserAdded"])])):(d(),A(he,{key:0,rows:e.usersForProject.sort((l,n)=>l[44]>n[44]?-1:1),columns:e.columns,"hide-pagination":!0,"row-key":"name",pagination:e.initialPagination,"table-header-class":"bg-dark text-white"},Pe({_:2},[e.$can("create","users")?{name:"top",fn:o(()=>[a(S,{color:"primary",label:"Add Another User",onClick:t[0]||(t[0]=l=>e.showAddUser=!0)}),a(Te)])}:void 0]),1032,["rows","columns","pagination"]))])}var aa=Y(xt,[["render",ta]]);const la=L({setup(e,t){const r=$(10),m=$(null),{capitalize:u}=De,{updateNewEmployee:c}=ne(),i=j(()=>{const f=new RegExp("^[0-9]{"+r.value+"}","g");return X({firstName:I().required().label("First Name"),lastName:I().required().label("Last Name"),phoneNumber:I().matches(f,{excludeEmptyString:!0,message:"Valid Phone Number Required!"}).required().label("Phone Number")})}),{meta:l,errors:n,handleSubmit:w,handleReset:y}=de({validationSchema:i}),{value:E}=J("firstName"),{value:P}=J("lastName"),{value:R}=J("phoneNumber"),b=w(async f=>{const h={20:u(f.firstName.trim().toLowerCase()),22:u(f.lastName.trim().toLowerCase()),25:f.phoneNumber};c({info:h}),t.emit("complete",1),y()});return{country:m,firstName:E,lastName:P,phoneNumber:R,formMeta:l,formErrors:n,submit:b,cancel(){y(),t.emit("cancel")}}}}),oa={class:"row justify-between"},sa={class:"text-caption"},ra={class:"text-caption"},na={class:"text-caption"};function ia(e,t,r,m,u,c){return d(),v("div",null,[a(oe,{onSubmit:le(e.submit,["prevent"])},{default:o(()=>[a(_,{flat:"",class:"q-pl-md q-mt-sm"},{default:o(()=>[a(Q,{class:"q-px-none q-pb-none"},{default:o(()=>[s("div",oa,[s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=i=>e.firstName=i),error:!!e.formErrors.firstName,"bottom-slots":""},{error:o(()=>[s("div",sa,p(e.formErrors.firstName),1)]),_:1},8,["modelValue","error"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=i=>e.lastName=i),error:!!e.formErrors.lastName,"bottom-slots":""},{error:o(()=>[s("div",ra,p(e.formErrors.lastName),1)]),_:1},8,["modelValue","error"])],2),s("div",{class:T(["col-12 col-md-4",e.$q.screen.lt.md?"q-pt-sm":"q-pr-sm"])},[a(F,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":t[2]||(t[2]=i=>e.phoneNumber=i),error:!!e.formErrors.phoneNumber,"bottom-slots":""},{error:o(()=>[s("div",na,p(e.formErrors.phoneNumber),1)]),_:1},8,["modelValue","error"])],2)])]),_:1}),a(ae,{align:"right"},{default:o(()=>[a(S,{color:"secondary",label:"Cancel",onClick:e.cancel},null,8,["onClick"]),a(S,{color:"primary",label:"Submit",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}var da=Y(la,[["render",ia]]);const ua=L({setup(e,t){const r=$(!0),{updateNewEmployee:m}=ne(),u=j(()=>X({ssn:I().matches(/^[0-9]{9}/g,{excludeEmptyString:!0,message:"9 Digits required."}).nullable().required().label("Social Security Number"),ssnConfirmation:I().oneOf([at("ssn"),null],"Social Security Number must match").required().nullable().label("Confirm Social Security Number")})),{meta:c,errors:i,handleSubmit:l,handleReset:n}=de({validationSchema:u}),{value:w}=J("ssn"),{value:y}=J("ssnConfirmation"),E=l(async R=>{console.log(R);const b=await P();if(b)m({info:b}),t.emit("complete",2),n();else{const f={109:R.ssn};m({info:f}),t.emit("complete",2),n()}}),P=async()=>{const b=[{8:{value:`{'188'.EX.'${w.value}'}AND{'509'.EX.'false'}`},7:{value:"Employees"},9:{value:12}}],{data:f}=await z.fetchFromHiringApp({fields:b});return f[0]?f[0]:null};return{ssn:w,ssnConfirmation:y,formMeta:c,formErrors:i,submit:E,isPwd:r,cancel(){n(),t.emit("cancel")}}}}),ma={class:"row"},ca={class:"col-12 col-md-5"},fa={class:"text-caption"},pa={class:"text-caption"};function ba(e,t,r,m,u,c){return d(),v("div",null,[a(oe,{onSubmit:le(e.submit,["prevent"])},{default:o(()=>[a(_,{flat:"",class:"q-pl-md q-mt-sm"},{default:o(()=>[a(Q,{class:"q-px-none q-pb-none"},{default:o(()=>[s("div",ma,[s("div",ca,[a(F,{dense:"",label:"Enter Social Security Number",mask:"#########",modelValue:e.ssn,"onUpdate:modelValue":t[0]||(t[0]=i=>e.ssn=i),maxlength:"9",type:"password",error:!!e.formErrors.ssn,"bottom-slots":""},{error:o(()=>[s("div",fa,p(e.formErrors.ssn),1)]),prepend:o(()=>[a(K,{name:"lock"})]),_:1},8,["modelValue","error"]),a(F,{dense:"",label:"Confirm Social Security Number",mask:"#########",modelValue:e.ssnConfirmation,"onUpdate:modelValue":t[2]||(t[2]=i=>e.ssnConfirmation=i),maxlength:"9",type:e.isPwd?"password":"text",error:!!e.formErrors.ssnConfirmation,"bottom-slots":""},{error:o(()=>[s("div",pa,p(e.formErrors.ssnConfirmation),1)]),prepend:o(()=>[a(K,{name:"lock"})]),append:o(()=>[a(K,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=i=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type","error"])])])]),_:1}),a(ae,{align:"right"},{default:o(()=>[a(S,{color:"secondary",label:"Cancel",onClick:e.cancel},null,8,["onClick"]),a(S,{color:"primary",label:"Submit",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}var ga=Y(ua,[["render",ba]]);const va=L({components:{Personal:da,EnterSsn:ga},setup(){const e=$(0),{getNewEmployee:t}=ne();return{step:e,personalComplete(r){e.value=r},ssnComplete(r){e.value=r,console.log(t)}}}}),ya=we(" Employee Personal Information "),ha=we(" Identification ");function $a(e,t,r,m,u,c){const i=O("personal"),l=O("enter-ssn");return d(),v("div",null,[a(_,null,{default:o(()=>[a(Q,null,{default:o(()=>[s("div",{class:T(["text-primary",e.$q.screen.gt.sm?"text-h6":"text-body1"])},"Add a New Employee",2),s("div",{class:T(["text-dark text-italic",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Follow these steps to add a new employee.",2)]),_:1}),a(Q,null,{default:o(()=>[s("div",{class:T([e.$q.screen.gt.sm?"text-body1":"text-body2",e.step===0?"text-info":e.step>0?"text-positive":"text-secondary"])},[e.$q.screen.gt.sm?(d(),A(K,{key:0,size:"md",color:e.step===0?"info":e.step>0?"positive":"secondary",name:"account_circle"},null,8,["color"])):M("",!0),ya],2),e.step===0?(d(),A(i,{key:0,onComplete:e.personalComplete,onCancel:t[0]||(t[0]=n=>e.$emit("cancelAddEmployee"))},null,8,["onComplete"])):M("",!0)]),_:1}),a(Q,null,{default:o(()=>[s("div",{class:T([e.$q.screen.gt.sm?"text-body1":"text-body2",e.step===1?"text-info":e.step>1?"text-positive":"text-secondary"])},[e.$q.screen.gt.sm?(d(),A(K,{key:0,size:"md",color:e.step===1?"info":e.step>1?"positive":"secondary",name:"admin_panel_settings"},null,8,["color"])):M("",!0),ha],2),e.step===1?(d(),A(l,{key:0,onComplete:e.ssnComplete,onCancel:t[1]||(t[1]=n=>e.step=0)},null,8,["onComplete"])):M("",!0)]),_:1})]),_:1})])}var wa=Y(va,[["render",$a]]);const{capitalize:fe}=De,qe=e=>{const t=e[20]!==""?fe(e[20]):"",r=e[22]!==""?fe(e[22]):"",m=e[21]!==""?` ${fe(e[21])}`:"",u=e[23]!==""?` ${fe(e[23])}`:"";return`${r}${u}, ${t}${m}`},qa=[{name:1,label:"Name",align:"left",field:e=>e.employee[22],format:(e,t)=>`${qe(t.employee)}`,sortable:!0},{name:7,label:"Workday ID",align:"left",field:e=>e.employee[378],format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Payroll ID",align:"left",field:e=>e.employee[213],format:e=>e===""?"not available":e,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?$e.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],Va=[{name:1,label:"Name",align:"left",field:e=>e.employee[22],format:(e,t)=>`${qe(t.employee)}`,sortable:!0},{name:7,label:"Workday ID",align:"left",field:e=>e.employee[378],format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Payroll ID",align:"left",field:e=>e.employee[213],format:e=>e===""?"not available":e,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?$e.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],Ca=L({name:"Table",components:{AddNewEmployee:wa},setup(){const e=ie(),t=ne(),r=H(),{assignmentsForProject:m,getFlaggedAssignments:u}=se(t),c=m,{active:i}=se(H()),{getAssignments:l,flagAssignment:n}=ne(),w=$(""),y=$(null),E=$(null),P=$(0),R=$(!1),b=$(!1);l();const f=j(()=>{let C=[];return c.value.forEach(U=>{U[75].toLowerCase().includes(w.value.toLowerCase())&&C.push(U)}),C=y.value?C.filter(U=>Ee(U[1].$d).tz("America/Chicago").format("MM/DD/YYYY")===Ee(y.value).tz("America/Chicago").format("MM/DD/YYYY")):C,C=E.value?C.filter(U=>U[68]===E.value):C,C.sort((U,N)=>U.employee[24]>N.employee[24]?1:-1)}),h=j(()=>e.screen.lt.md?100:25),D=j(()=>[...new Map(m.value.map(C=>[C[68],C[68]])).values()]);async function B(C){n({record:C.rows[0],status:C.added})}return{columns:qa,mobileColumns:Va,rows:f,initialPagination:{rowsPerPage:h},separator:"vertical",projectStore:r,active:i,search:w,startDateFilter:y,craftOptions:D,craftFilter:E,assignmentsForProject:m,tab:P,showEmployee:R,formatName:qe,updateAssignment:B,getFlaggedAssignments:u,showAddEmployee:b}}}),Na={class:"q-px-sm"},ka={class:"row items-center"},Sa={class:"col-12 col-md-4 q-px-sm"},Ea={class:"col-12 col-md-4 q-px-sm"},ja={class:"col-12 col-md-4 q-px-sm"},Aa={class:"text-primary text-italic"},Ra={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Ua={class:"text-dark text-caption text-italic"},Ja={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Pa(e,t,r,m,u,c){const i=O("add-new-employee");return d(),v("div",Na,[s("div",null,[a(Ue,null,{default:o(()=>[je(s("div",null,[a(be,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>e.tab=l),"bg-color":"none","indicator-color":"accent",align:"left",dense:""},{default:o(()=>[a(Z,{name:0,label:e.$q.screen.gt.xs?"All Employees":"Employees"},null,8,["label"]),a(Z,{name:1,label:"Flagged to Remove"},{default:o(()=>[e.getFlaggedAssignments.length>0?(d(),A(st,{key:0,color:"accent",floating:"",transparent:""},{default:o(()=>[we(p(e.getFlaggedAssignments.length),1)]),_:1})):M("",!0)]),_:1})]),_:1},8,["modelValue"]),a(ge,{modelValue:e.tab,"onUpdate:modelValue":t[5]||(t[5]=l=>e.tab=l),animated:""},{default:o(()=>[a(x,{class:"q-px-xs",name:0},{default:o(()=>[a(_,{flat:""},{default:o(()=>[a(Q,{class:"q-pt-none"},{default:o(()=>[s("div",ka,[s("div",Sa,[a(F,{dense:e.$q.screen.lt.md,modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=l=>e.search=l),label:"Search"},null,8,["dense","modelValue"])]),s("div",Ea,[a(F,{dense:e.$q.screen.lt.md,modelValue:e.startDateFilter,"onUpdate:modelValue":t[2]||(t[2]=l=>e.startDateFilter=l),label:"Arrival Date",type:"date","stack-label":""},null,8,["dense","modelValue"])]),s("div",ja,[a(G,{dense:e.$q.screen.lt.md,label:"Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.craftFilter,"onUpdate:modelValue":t[3]||(t[3]=l=>e.craftFilter=l),options:e.craftOptions,"use-chips":""},null,8,["dense","modelValue","options"])])])]),_:1})]),_:1}),a(he,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.lt.sm?"Employees":`Employees for ${e.active[20]}`,columns:e.$q.screen.lt.md?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no employees for ${e.active[20]}`,grid:e.$q.screen.lt.sm,selection:"multiple",selected:e.getFlaggedAssignments,onSelection:e.updateAssignment},Pe({"top-right":o(()=>[s("div",Aa,p(e.assignmentsForProject.length)+" total employees / "+p(e.getFlaggedAssignments.length)+" flagged to remove",1)]),"header-selection":o(l=>[a(Re,{disable:"",modelValue:l.selected,"onUpdate:modelValue":n=>l.selected=n},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":o(l=>[a(Re,{modelValue:l.selected,"onUpdate:modelValue":n=>l.selected=n},null,8,["modelValue","onUpdate:modelValue"])]),"no-data":o(({message:l})=>[s("div",Ra,[a(K,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),s("span",null,p(l),1)])]),_:2},[e.$can("manage","employees")?{name:"top-left",fn:o(()=>[a(S,{color:"primary",label:"Add Another Employee",onClick:t[4]||(t[4]=l=>e.showAddEmployee=!0)}),a(Te)])}:void 0]),1032,["title-class","title","columns","rows","pagination","no-data-label","grid","selected","onSelection"])]),_:1}),a(x,{class:"q-px-xs",name:1},{default:o(()=>[a(he,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.lt.sm?"Flagged to Remove":`Flagged to Remove from ${e.active[20]}`,columns:e.$q.screen.lt.md?e.mobileColumns:e.columns,rows:e.getFlaggedAssignments,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no employees to remove from ${e.active[20]}`,grid:e.$q.screen.lt.sm},{"top-right":o(()=>[s("div",Ua,"(Total: "+p(e.getFlaggedAssignments.length)+" to remove)",1)]),"no-data":o(({message:l})=>[s("div",Ja,[a(K,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),s("span",null,p(l),1)])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","grid"])]),_:1})]),_:1},8,["modelValue"])],512),[[Ae,!e.showAddEmployee]])]),_:1}),a(Ue,null,{default:o(()=>[je(s("div",null,[a(i,{onCancelAddEmployee:t[6]||(t[6]=l=>e.showAddEmployee=!1)})],512),[[Ae,e.showAddEmployee]])]),_:1})])])}var Da=Y(Ca,[["render",Pa],["__scopeId","data-v-7a1c64e6"]]);const Ta=L({name:"Projects",components:{JobsTab:Lt,UsersTab:aa,EmployeesTab:Da},setup(){return ie(),{tab:$(0)}}}),Fa={class:"q-px-sm"};function Ma(e,t,r,m,u,c){const i=O("jobs-tab"),l=O("users-tab"),n=O("employees-tab");return d(),v("div",Fa,[a(lt,{class:"bg-info text-white shadow-2 rounded-borders"},{default:o(()=>[a(be,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=w=>e.tab=w),"bg-color":"none","indicator-color":"accent",align:"justify",dense:""},{default:o(()=>[a(Z,{name:0,label:e.$q.screen.gt.xs?"Available Jobs":"Jobs"},null,8,["label"]),e.$can("read","users")?(d(),A(Z,{key:0,name:1,label:"Users"})):M("",!0),e.$can("manage","employees")?(d(),A(Z,{key:1,name:2,label:"Employees"})):M("",!0)]),_:1},8,["modelValue"])]),_:1}),a(ge,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=w=>e.tab=w),animated:""},{default:o(()=>[a(x,{class:"q-px-xs",name:0},{default:o(()=>[a(i)]),_:1}),e.$can("read","users")?(d(),A(x,{key:0,class:"q-px-xs",name:1},{default:o(()=>[a(l)]),_:1})):M("",!0),e.$can("manage","employees")?(d(),A(x,{key:1,class:"q-px-xs",name:2},{default:o(()=>[a(n)]),_:1})):M("",!0)]),_:1},8,["modelValue"])])}var Qa=Y(Ta,[["render",Ma]]);const za=L({name:"PageIndex",components:{ProjectTabs:Qa},setup(){return{}}});function Ia(e,t,r,m,u,c){const i=O("project-tabs");return d(),A(ot,{style:{"max-width":"100vw"}},{default:o(()=>[a(i)]),_:1})}var _a=Y(za,[["render",Ia]]);export{_a as default};
