import{c9 as ge,c as O,h as me,cf as ue,g as Le,l as W,bD as te,bR as G,cH as Q,_ as L,p as n,t as m,d as s,bb as o,bK as B,v as t,a4 as i,bJ as H,F as C,aR as j,ag as p,an as F,b_ as U,bd as X,bw as Z,ah as c,bP as q,y as k,r as Y,bF as M,bV as K,bH as le,bI as R,bM as D,bL as I,by as ne,bQ as re,bG as he,w as qe,aS as J,bY as Je,bN as fe,bO as ce,bC as Ie,cI as Ye,c1 as He,c0 as ie,bS as We,c2 as Ge}from"./index.3419df76.js";import{Q as de}from"./QBadge.09bc2a95.js";import{a as Ke,Q as oe,c as Xe,b as ae}from"./QTabPanels.5ffb43e5.js";import{Q as Ze}from"./QSpace.9dcb4f8e.js";import{Q as $e}from"./QTooltip.f80b7417.js";import{a as T,Q as x}from"./QTable.971ec555.js";import{Q as se}from"./QMarkupTable.14ee6c0c.js";var S=ge({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const f=O(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>me("tr",{class:f.value},ue(l.default))}}),y=ge({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const f=Le(),b=O(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return me("td",{class:b.value},ue(l.default));const g=f.vnode.key,h=(e.props.colsMap!==void 0?e.props.colsMap[g]:null)||e.props.col;if(h===void 0)return;const{row:a}=e.props;return me("td",{class:b.value+h.__tdClass(a),style:h.__tdStyle(a)},ue(l.default))}}});const xe=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:1,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:e=>e[254],format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0}],et=[{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],tt=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:e=>e[17],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.accepted.length,format:e=>`${e}`},{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0}],st=[{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0}],ot=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e[10],format:e=>`${e}`}],at=W({name:"Open Table",components:{},setup(e,l){const f=te(),{activeProject:b,openRequestsForProject:g,openRequestsForProjectSummary:h}=G(Q()),a=g,r=O(()=>f.screen.lt.md?100:10);function d(_){l.emit("addSomeNames",_)}function w(_){l.emit("removeName",_)}return console.log(a.value),{columns:xe,rows:a,initialPagination:{rowsPerPage:r},separator:"vertical",secondColumns:tt,mobileColumns:et,secMobileColumns:st,activeProject:b,openRequestsForProjectSummary:h,nameColumns:ot,addSomeNames:d,removeName:w}}}),lt={class:"q-px-none"},nt={class:"row text-caption"},rt={class:"col-12 col-md-2"},it=t("span",{class:"text-accent"},"Total Requests:",-1),dt={class:"text-white q-ml-sm"},mt={class:"col-12 col-md-2"},ut=t("span",{class:"text-accent"},"Classifications:",-1),ct={class:"text-white q-ml-sm"},ft={class:"col-12 col-md-2"},pt=t("span",{class:"text-accent"},"Total Need:",-1),bt={class:"text-white q-ml-sm"},ht={class:"col-12 col-md-2"},$t=t("span",{class:"text-accent"},"Balance:",-1),gt={class:"text-white q-ml-sm"},qt={class:"col-12 col-md-2"},yt=t("span",{class:"text-accent"},"Avg. Rate:",-1),vt={class:"text-white q-ml-sm"},wt={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Nt=t("thead",{class:"bg-accent"},[t("tr",null,[t("th",{class:"text-left"},"Name"),t("th",{class:"text-left"},"Phone"),t("th",{class:"text-left"},"Status")])],-1),_t={class:"text-left"},kt={key:0,class:"text-left"},Ct={class:"text-left"};function Rt(e,l,f,b,g,h){return n(),m("div",lt,[s(H,{class:"q-mb-md bg-dark"},{default:o(()=>[s(B,{class:"q-pa-sm"},{default:o(()=>[t("div",nt,[t("div",rt,[t("div",null,[it,t("span",dt,i(e.openRequestsForProjectSummary.requestCount),1)])]),t("div",mt,[t("div",null,[ut,t("span",ct,i(e.openRequestsForProjectSummary.classCount),1)])]),t("div",ft,[t("div",null,[pt,t("span",bt,i(e.openRequestsForProjectSummary.need),1)])]),t("div",ht,[t("div",null,[$t,t("span",gt,i(e.openRequestsForProjectSummary.balance),1)])]),t("div",qt,[t("div",null,[yt,t("span",vt,"$ "+i(e.openRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),s(x,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Open Requests for ${e.activeProject[20]}`:"Open Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no open requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.md},{header:o(a=>[s(S,{class:"bg-dark text-white",props:a},{default:o(()=>[s(T,{"auto-width":""}),(n(!0),m(C,null,j(a.cols,r=>(n(),p(T,{key:r.name,props:a},{default:o(()=>[F(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":o(({message:a})=>[t("div",wt,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(a),1)])]),body:o(a=>[s(S,{props:a},{default:o(()=>[s(y,{"auto-width":""},{default:o(()=>[s(U,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:r=>a.expand=!a.expand,name:a.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1024),(n(!0),m(C,null,j(a.cols,r=>(n(),p(y,{key:r.name,props:a},{default:o(()=>[F(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),X(s(S,{props:a},{default:o(()=>[s(y,{colspan:"100%"},{default:o(()=>[s(x,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:a.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:o(r=>[s(S,{class:"bg-dark text-white",props:r},{default:o(()=>[s(T,{"auto-width":""}),(n(!0),m(C,null,j(r.cols,d=>(n(),p(T,{key:d.name,props:r},{default:o(()=>[F(i(d.label),1)]),_:2},1032,["props"]))),128)),s(T,{"auto-width":""})]),_:2},1032,["props"])]),body:o(r=>[s(S,{props:r},{default:o(()=>[s(y,{"auto-width":""},{default:o(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),p(U,{key:0,class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:d=>r.expand=!r.expand,name:r.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])):c("",!0)]),_:2},1024),(n(!0),m(C,null,j(r.cols,d=>(n(),p(y,{key:d.name,props:r},{default:o(()=>[F(i(d.value),1)]),_:2},1032,["props"]))),128)),s(y,{"auto-width":""},{default:o(()=>[e.$can("create","nameRequests")?(n(),p(q,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:d=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?X((n(),p(S,{key:0,props:r},{default:o(()=>[s(y,{colspan:"100%"},{default:o(()=>[s(se,{dense:"",flat:"",bordered:""},{default:o(()=>[Nt,t("tbody",null,[(n(!0),m(C,null,j(r.row.names,d=>(n(),m("tr",{key:d[3],class:k(d.employee[0]===void 0?"":d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"bg-negative text-white":"")},[t("td",_t,i(d[6])+" "+i(d[7]),1),e.$q.screen.gt.sm?(n(),m("td",kt,i(d[8]),1)):c("",!0),t("td",Ct,i(d.employee[0]===void 0?d[10]:d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"Not Eligible":d.employee[0][552]===""?d[10]:d.employee[0][552]),1)],2))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[Z,r.expand]]):c("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[Z,a.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var St=L(at,[["render",Rt]]);const jt=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:10,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],Pt=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:10,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],Vt=[{name:1,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],Ft=[{name:1,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],Tt=W({name:"Closed Table",components:{},setup(){const e=te(),{activeProject:l,closedRequestsForProject:f,closedRequestsForProjectSummary:b}=G(Q()),g=f,h=O(()=>e.screen.lt.md?100:5);return{columns:jt,rows:g,initialPagination:{rowsPerPage:h},separator:"vertical",secondColumns:Vt,mobileColumns:Pt,secMobileColumns:Ft,activeProject:l,closedRequestsForProjectSummary:b}}}),Et={class:"q-px-none"},At={class:"row text-caption"},Ot={class:"col-12 col-md-2"},zt=t("span",{class:"text-accent"},"Requests:",-1),Qt={class:"text-white q-ml-sm"},Mt={class:"col-12 col-md-2"},Ut=t("span",{class:"text-accent"},"Classifications:",-1),Dt={class:"text-white q-ml-sm"},Bt={class:"col-12 col-md-2"},Lt=t("span",{class:"text-accent"},"Need:",-1),Jt={class:"text-white q-ml-sm"},It={class:"col-12 col-md-2"},Yt=t("span",{class:"text-accent"},"Offers:",-1),Ht={class:"text-white q-ml-sm"},Wt={class:"col-12 col-md-2"},Gt=t("span",{class:"text-accent"},"Avg. Rate:",-1),Kt={class:"text-white q-ml-sm"},Xt={class:"col-12 col-md-2"},Zt=t("span",{class:"text-accent"},"Avg. Time Open:",-1),xt={class:"text-white q-ml-sm"},es={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function ts(e,l,f,b,g,h){return n(),m("div",Et,[s(H,{class:"q-mb-md bg-dark"},{default:o(()=>[s(B,{class:"q-pa-sm"},{default:o(()=>[t("div",At,[t("div",Ot,[t("div",null,[zt,t("span",Qt,i(e.closedRequestsForProjectSummary.requestCount),1)])]),t("div",Mt,[t("div",null,[Ut,t("span",Dt,i(e.closedRequestsForProjectSummary.classCount),1)])]),t("div",Bt,[t("div",null,[Lt,t("span",Jt,i(e.closedRequestsForProjectSummary.need),1)])]),t("div",It,[t("div",null,[Yt,t("span",Ht,i(e.closedRequestsForProjectSummary.offers),1)])]),t("div",Wt,[t("div",null,[Gt,t("span",Kt,"$ "+i(e.closedRequestsForProjectSummary.avgRate),1)])]),t("div",Xt,[t("div",null,[Zt,t("span",xt,i(e.closedRequestsForProjectSummary.avgDuration),1)])])])]),_:1})]),_:1}),s(x,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Completed Requests for ${e.activeProject[20]}`:"Completed Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no completed requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:o(a=>[s(S,{class:"bg-dark text-white",props:a},{default:o(()=>[s(T,{"auto-width":""}),(n(!0),m(C,null,j(a.cols,r=>(n(),p(T,{key:r.name,props:a},{default:o(()=>[F(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":o(({message:a})=>[t("div",es,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(a),1)])]),body:o(a=>[s(S,{props:a},{default:o(()=>[s(y,{"auto-width":""},{default:o(()=>[s(U,{class:"cursor-pointer",size:"sm",color:"info",round:"",dense:"",onClick:r=>a.expand=!a.expand,name:a.expand?"visibility_off":"visibility"},null,8,["onClick","name"])]),_:2},1024),(n(!0),m(C,null,j(a.cols,r=>(n(),p(y,{key:r.name,props:a},{default:o(()=>[F(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),X(s(S,{props:a},{default:o(()=>[s(y,{colspan:"100%"},{default:o(()=>[t("div",null,[s(x,{dense:"",title:"Classifications","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:a.row.classes,"row-key":"3","table-header-class":"bg-secondary"},null,8,["columns","rows"])])]),_:2},1024)]),_:2},1032,["props"]),[[Z,a.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var ss=L(Tt,[["render",ts]]);const os=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:1,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`}],as=[{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],ls=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Quantity",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],ns=[{name:3,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Qty",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],rs=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e.employee[0][80],format:(e,l)=>`${e===""?l[10]:e}`}],is=W({name:"Open Table",components:{},setup(e,l){const f=te(),{submitCancelRequest:b,submitCancelClassification:g}=Q(),{activeProject:h,pendingRequestsForProject:a,pendingRequestsForProjectSummary:r}=G(Q()),d=a,w=O(()=>f.screen.lt.md?100:10);function _($){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(async()=>{try{await b({request:$}),f.notify({type:"positive",message:"Request Canceled!",position:"top-right"})}catch(v){f.notify({type:"negative",message:v,position:"top-right"})}})}function E($){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this classification?",cancel:!0,persistent:!0}).onOk(async()=>{try{const v=await g({item:$});f.notify({type:"positive",message:v,position:"top-right"})}catch(v){f.notify({type:"negative",message:v,position:"top-right"})}})}function z($){l.emit("addSomeNames",$)}function u($){l.emit("removeName",$)}return console.log(a.value),{columns:os,rows:d,initialPagination:{rowsPerPage:w},separator:"vertical",secondColumns:ls,mobileColumns:as,secMobileColumns:ns,nameColumns:rs,activeProject:h,pendingRequestsForProjectSummary:r,cancelRequest:_,cancelClassification:E,addSomeNames:z,removeName:u}}}),ds={class:"q-px-none"},ms={class:"row text-caption"},us={class:"col-12 col-md-2"},cs=t("span",{class:"text-accent"},"Total Requests:",-1),fs={class:"text-white q-ml-sm"},ps={class:"col-12 col-md-2"},bs=t("span",{class:"text-accent"},"Classifications:",-1),hs={class:"text-white q-ml-sm"},$s={class:"col-12 col-md-2"},gs=t("span",{class:"text-accent"},"Total Need:",-1),qs={class:"text-white q-ml-sm"},ys={class:"col-12 col-md-2"},vs=t("span",{class:"text-accent"},"Balance:",-1),ws={class:"text-white q-ml-sm"},Ns={class:"col-12 col-md-2"},_s=t("span",{class:"text-accent"},"Avg. Rate:",-1),ks={class:"text-white q-ml-sm"},Cs={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Rs={class:"bg-accent"},Ss=t("th",{class:"text-left"},"Name",-1),js=t("th",{class:"text-left"},"Phone",-1),Ps=t("th",{class:"text-left"},"Status",-1),Vs={key:0},Fs={class:"text-left"},Ts={key:0,class:"text-left"},Es={class:"text-left"},As={class:"text-right"};function Os(e,l,f,b,g,h){return n(),m("div",ds,[s(H,{class:"q-mb-md bg-dark"},{default:o(()=>[s(B,{class:"q-pa-sm"},{default:o(()=>[t("div",ms,[t("div",us,[t("div",null,[cs,t("span",fs,i(e.pendingRequestsForProjectSummary.requestCount),1)])]),t("div",ps,[t("div",null,[bs,t("span",hs,i(e.pendingRequestsForProjectSummary.classCount),1)])]),t("div",$s,[t("div",null,[gs,t("span",qs,i(e.pendingRequestsForProjectSummary.need),1)])]),t("div",ys,[t("div",null,[vs,t("span",ws,i(e.pendingRequestsForProjectSummary.balance),1)])]),t("div",Ns,[t("div",null,[_s,t("span",ks,"$ "+i(e.pendingRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),s(x,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Pending Requests for ${e.activeProject[20]}`:"Pending Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no pending requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:o(a=>[s(S,{class:"bg-dark text-white",props:a},{default:o(()=>[s(T,{"auto-width":""}),(n(!0),m(C,null,j(a.cols,r=>(n(),p(T,{key:r.name,props:a},{default:o(()=>[F(i(r.label),1)]),_:2},1032,["props"]))),128)),s(T,{"auto-width":""})]),_:2},1032,["props"])]),"no-data":o(({message:a})=>[t("div",Cs,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(a),1)])]),body:o(a=>[s(S,{props:a},{default:o(()=>[s(y,{"auto-width":""},{default:o(()=>[s(U,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:r=>a.expand=!a.expand,name:a.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1024),(n(!0),m(C,null,j(a.cols,r=>(n(),p(y,{key:r.name,props:a},{default:o(()=>[F(i(r.value),1)]),_:2},1032,["props"]))),128)),s(y,{"auto-width":""},{default:o(()=>[s(q,{size:"sm",color:"primary",onClick:r=>e.cancelRequest(a.row),label:"Cancel"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"]),X(s(S,{props:a},{default:o(()=>[s(y,{colspan:"100%"},{default:o(()=>[s(x,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:a.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:o(r=>[s(S,{class:"bg-dark text-white",props:r},{default:o(()=>[s(T,{"auto-width":""}),(n(!0),m(C,null,j(r.cols,d=>(n(),p(T,{key:d.name,props:r},{default:o(()=>[F(i(d.label),1)]),_:2},1032,["props"]))),128)),s(T,{"auto-width":""})]),_:2},1032,["props"])]),body:o(r=>[s(S,{props:r},{default:o(()=>[s(y,{"auto-width":""},{default:o(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),p(U,{key:0,class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:d=>r.expand=!r.expand,name:r.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])):c("",!0)]),_:2},1024),(n(!0),m(C,null,j(r.cols,d=>(n(),p(y,{key:d.name,props:r},{default:o(()=>[F(i(d.value),1)]),_:2},1032,["props"]))),128)),s(y,{"auto-width":""},{default:o(()=>[s(q,{size:"sm",color:"primary",onClick:d=>e.cancelClassification(r.row),label:"remove"},null,8,["onClick"]),e.$can("create","nameRequests")?(n(),p(q,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:d=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?X((n(),p(S,{key:0,props:r},{default:o(()=>[s(y,{colspan:"100%"},{default:o(()=>[s(se,{dense:"",flat:"",bordered:"",separator:"none"},{default:o(()=>[t("thead",Rs,[t("tr",null,[Ss,js,Ps,e.$can("create","nameRequests")?(n(),m("th",Vs)):c("",!0)])]),t("tbody",null,[(n(!0),m(C,null,j(r.row.names,d=>(n(),m("tr",{key:d[3],class:k(d.employee[0]===void 0?"":d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"bg-negative text-white":"")},[t("td",Fs,i(d[6])+" "+i(d[7]),1),e.$q.screen.gt.sm?(n(),m("td",Ts,i(d[8]),1)):c("",!0),t("td",Es,i(d.employee[0]===void 0?d[10]:d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"Not Eligible":d.employee[0][552]===""?d[10]:d.employee[0][552]),1),t("td",As,[e.$can("create","nameRequests")?(n(),p(q,{key:0,round:"",size:"sm",color:"accent",onClick:w=>e.removeName(d),icon:"delete"},null,8,["onClick"])):(n(),p(q,{key:1,round:"",size:"sm",color:"dark",disable:"",icon:"delete"}))])],2))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[Z,r.expand]]):c("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[Z,a.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var zs=L(is,[["render",Os]]);const Qs=W({components:{},setup(){const{addedClassifications:e,addedNames:l}=G(Q()),{pushName:f}=Q(),b=Y(10),g=Y(null),h=O(()=>{const P=new RegExp("^[0-9]{"+b.value+"}","g");return M({job:M().required("Classification is required"),firstName:K().required().label("First Name"),lastName:K().required().label("Last Name"),phoneNumber:K().matches(P,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:K().matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:a,errors:r,handleSubmit:d,handleReset:w}=le({validationSchema:h}),{value:_}=R("job"),{value:E}=R("firstName"),{value:z}=R("lastName"),{value:u}=R("phoneNumber"),{value:$}=R("ssn"),v=d(async P=>{console.log(P);const ee={classification:P.job,id:l.value.length+1,firstName:P.firstName,lastName:P.lastName,phone:P.phoneNumber,ssn:P.ssn};console.log(ee),f(ee),w()}),N=P=>{g.value=P},A=P=>{b.value=P};return console.log(e.value),{job:_,firstName:E,lastName:z,phoneNumber:u,ssn:$,formMeta:a,formErrors:r,submit:v,addedClassifications:e,updateCountry:N,updatePhoneMaxLength:A}}}),Ms=t("div",{class:"row justify-between q-mb-sm"},[t("div",{class:"col-12 col-md-6"},[t("div",{class:"text-dark text-body1"},"Add Names")])],-1),Us={class:"row"},Ds={class:"col-12 col-md-6 q-px-sm"},Bs={class:"text-caption"},Ls={class:"text-caption"},Js={class:"text-caption"},Is={class:"text-caption"},Ys={class:"col-12 col-md-5 q-px-sm"},Hs={class:"text-caption"},Ws={class:"q-mt-md",align:"right"};function Gs(e,l,f,b,g,h){return n(),m("div",{class:k(e.$q.screen.lt.md?"q-pt-md":"")},[Ms,s(re,{onSubmit:ne(e.submit,["prevent"])},{default:o(()=>[t("div",Us,[t("div",Ds,[s(D,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.firstName=a),error:!!e.formErrors.firstName,"bottom-slots":""},{error:o(()=>[t("div",Bs,i(e.formErrors.firstName),1)]),_:1},8,["modelValue","error"]),s(D,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":l[1]||(l[1]=a=>e.lastName=a),error:!!e.formErrors.lastName,"bottom-slots":""},{error:o(()=>[t("div",Ls,i(e.formErrors.lastName),1)]),_:1},8,["modelValue","error"]),s(D,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l[2]||(l[2]=a=>e.phoneNumber=a),error:!!e.formErrors.phoneNumber,"bottom-slots":""},{error:o(()=>[t("div",Js,i(e.formErrors.phoneNumber),1)]),_:1},8,["modelValue","error"]),s(D,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":l[3]||(l[3]=a=>e.ssn=a),error:!!e.formErrors.ssn,"bottom-slots":""},{error:o(()=>[t("div",Is,i(e.formErrors.ssn),1)]),_:1},8,["modelValue","error"])]),t("div",Ys,[s(I,{dense:"",label:"Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":l[4]||(l[4]=a=>e.job=a),options:e.addedClassifications,"option-label":"label","display-value":`${e.job?e.job.label:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:o(()=>[t("div",Hs,i(e.formErrors.job),1)]),_:1},8,["modelValue","options","display-value","error"])])]),t("div",Ws,[s(q,{class:"q-mr-sm",size:"sm",color:"secondary",label:"Back",onClick:l[5]||(l[5]=a=>e.$emit("closeNames"))}),s(q,{type:"submit",size:"sm",color:"primary",label:"Save"})])]),_:1},8,["onSubmit"])],2)}var Ks=L(Qs,[["render",Gs]]);const Xs=W({components:{AddNames:Ks},props:{},setup(){const{requestOptions:e,addedClassifications:l}=G(Q()),{pushClassification:f}=Q(),b=Y(!1),g=O(()=>e.value.crafts),h=O(()=>E.value&&E.value!==void 0?E.value.classifications:[]),a=M({craft:M().required("Craft is required.").nullable(),job:M().required("Classification is required.").nullable(),rate:he().required("Rate is required.").nullable(),qty:he().required("Craft is required.").nullable()}),{meta:r,errors:d,handleSubmit:w,handleReset:_}=le({validationSchema:a}),{value:E}=R("craft"),{value:z}=R("job"),{value:u}=R("rate"),{value:$}=R("qty");qe(z,(N,A)=>{N!==void 0&&N.hasFixedRate&&(u.value=N.fixedRate)});const v=w(async N=>{console.log(N);const A={id:l.value.length+1,craft:N.craft,job:N.job,rate:N.rate,qty:N.qty,label:N.job[18],names:[]};console.log(A),f(A),_()});return{crafts:g,jobs:h,craft:E,job:z,rate:u,qty:$,formMeta:r,formErrors:d,submit:v,showAddNames:b,addedClassifications:l}}}),Zs={class:"row justify-between q-mb-sm"},xs=t("div",{class:"col-12 col-md-6"},[t("div",{class:"text-dark text-body1"},"Add Classifications")],-1),eo={key:0,align:"right",class:"col-12 col-md-6"},to={class:"row items-center"},so={class:"col-12 col-md-3 q-px-sm"},oo={class:"text-caption"},ao={class:"col-12 col-md-4 q-px-sm"},lo={class:"text-caption"},no={class:"col-12 col-md-2 q-px-sm"},ro=t("span",null,"Rate",-1),io={class:"text-caption"},mo={class:"col-12 col-md-2 q-px-sm"},uo={class:"text-caption"},co={key:1};function fo(e,l,f,b,g,h){const a=J("add-names");return n(),m("div",null,[e.showAddNames?c("",!0):(n(),m("div",{key:0,class:k(e.$q.screen.lt.md?"q-pt-md":"")},[t("div",Zs,[xs,e.addedClassifications.length>0&&e.$can("create","nameRequests")?(n(),m("div",eo,[s(q,{dense:"",color:"info",label:"Add Names",icon:"add",onClick:l[0]||(l[0]=r=>e.showAddNames=!0)})])):c("",!0)]),s(re,{onSubmit:ne(e.submit,["prevent"])},{default:o(()=>[t("div",to,[t("div",so,[s(I,{dense:"",label:"Select a Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.craft,"onUpdate:modelValue":l[1]||(l[1]=r=>e.craft=r),options:e.crafts,"option-label":"10","display-value":`${e.craft?e.craft[10]:""}`,"bottom-slots":"",error:!!e.formErrors.craft},{error:o(()=>[t("div",oo,i(e.formErrors.craft),1)]),_:1},8,["modelValue","options","display-value","error"])]),t("div",ao,[s(I,{dense:"",label:"Select a Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":l[2]||(l[2]=r=>e.job=r),options:e.jobs,"option-label":"18","display-value":`${e.job?e.job[18]:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:o(()=>[t("div",lo,i(e.formErrors.job),1)]),_:1},8,["modelValue","options","display-value","error"])]),t("div",no,[s(D,{step:"any",dense:"",type:"number",modelValue:e.rate,"onUpdate:modelValue":l[3]||(l[3]=r=>e.rate=r),"bottom-slots":"",error:!!e.formErrors.rate,prefix:"$","label-slot":"",disable:e.job!==void 0&&e.job.hasFixedRate&&!e.$can("manage","rates")},{label:o(()=>[ro]),error:o(()=>[t("div",io,i(e.formErrors.rate),1)]),_:1},8,["modelValue","error","disable"])]),t("div",mo,[s(D,{dense:"",type:"number",label:"Qty",modelValue:e.qty,"onUpdate:modelValue":l[4]||(l[4]=r=>e.qty=r),"bottom-slots":"",error:!!e.formErrors.qty},{error:o(()=>[t("div",uo,i(e.formErrors.qty),1)]),_:1},8,["modelValue","error"])]),t("div",{class:k(["col-12 col-md-1",e.$q.screen.lt.md?"text-right":"q-px-sm"])},[s(q,{type:"submit",size:"sm",color:"primary",round:e.$q.screen.gt.sm,icon:"add",label:e.$q.screen.gt.sm?"":"Add Classification"},null,8,["round","label"])],2)])]),_:1},8,["onSubmit"])],2)),e.showAddNames?(n(),m("div",co,[s(a,{onCloseNames:l[5]||(l[5]=r=>e.showAddNames=!1)})])):c("",!0)])}var po=L(Xs,[["render",fo]]);const bo=W({props:{job:Object},setup(e,l){const f=te(),{addedNames:b}=G(Q()),{upsertName:g}=Q(),h=Y(10),{capitalize:a}=Je,r=O(()=>{const A=new RegExp("^[0-9]{"+h.value+"}","g");return M({firstName:K().required().label("First Name"),lastName:K().required().label("Last Name"),phoneNumber:K().matches(A,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:K().min(4).max(4).matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:d,errors:w,handleSubmit:_,handleReset:E}=le({validationSchema:r}),{value:z}=R("firstName"),{value:u}=R("lastName"),{value:$}=R("phoneNumber"),{value:v}=R("ssn"),N=_(async A=>{console.log(A),f.loading.show();const P={classification:e.job,id:b.value.length+1,firstName:a(A.firstName.toLowerCase()),lastName:a(A.lastName.toLowerCase()),phone:A.phoneNumber,ssn:A.ssn},ee=await g({name:P,action:"create"});console.log(ee),E(),f.loading.hide(),l.emit("newNameAdded")});return{firstName:z,lastName:u,phoneNumber:$,ssn:v,formMeta:d,formErrors:w,submit:N}}});function ho(e,l,f,b,g,h){return n(),m("div",null,[t("div",null,[s(re,{onSubmit:ne(e.submit,["prevent"])},{default:o(()=>[s(H,null,{default:o(()=>[s(B,null,{default:o(()=>[s(D,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.firstName=a),error:!!e.formErrors.firstName},null,8,["modelValue","error"]),s(D,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":l[1]||(l[1]=a=>e.lastName=a),error:!!e.formErrors.lastName},null,8,["modelValue","error"]),s(D,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l[2]||(l[2]=a=>e.phoneNumber=a),error:!!e.formErrors.phoneNumber},null,8,["modelValue","error"]),s(D,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":l[3]||(l[3]=a=>e.ssn=a),error:!!e.formErrors.ssn},null,8,["modelValue","error"])]),_:1}),s(fe),s(ce,{class:"bg-accent",align:"right"},{default:o(()=>[s(q,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:l[4]||(l[4]=a=>e.$emit("closeNames"))},null,8,["size"]),s(q,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])}var $o=L(bo,[["render",ho]]);const go=[{name:2,label:"Request ID",align:"left",field:e=>e[18],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`}],qo=[{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],yo=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Quantity",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],vo=[{name:3,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Qty",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],wo=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e.employee[0][80],format:(e,l)=>`${e===""?l[10]:e}`}],No=W({name:"Open Table",components:{},setup(e,l){const f=te(),{submitCancelRequest:b,submitCancelClassification:g}=Q(),{activeProject:h,pendingRequestsForProject:a,pendingRequestsForProjectSummary:r,nameRequestsForProject:d}=G(Q()),w=a,_=O(()=>f.screen.lt.md?100:5);function E(v){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(async()=>{try{await b({request:v}),f.notify({type:"positive",message:"Request Canceled!",position:"top-right"})}catch(N){f.notify({type:"negative",message:N,position:"top-right"})}})}function z(v){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this classification?",cancel:!0,persistent:!0}).onOk(async()=>{try{await g({item:v}),f.notify({type:"positive",message:"Classification Removed!",position:"top-right"})}catch(N){f.notify({type:"negative",message:N,position:"top-right"})}})}function u(v){l.emit("addSomeNames",v)}function $(v){l.emit("removeName",v)}return console.log(d.value),{columns:go,rows:w,initialPagination:{rowsPerPage:_},separator:"vertical",secondColumns:yo,mobileColumns:qo,secMobileColumns:vo,nameColumns:wo,activeProject:h,pendingRequestsForProjectSummary:r,cancelRequest:E,cancelClassification:z,addSomeNames:u,removeName:$,nameRequestsForProject:d,dayjs:Ie}}}),_o={class:"q-px-none"},ko={class:"bg-dark text-white"},Co=t("th",null,null,-1),Ro={key:0,class:"text-left"},So={key:1,class:"text-left"},jo=t("th",{class:"text-left"},"Name",-1),Po={key:2,class:"text-left"},Vo=t("th",{class:"text-left"},"Status",-1),Fo={key:3},To={key:0,class:"text-left"},Eo={key:1},Ao={class:"text-left"},Oo={key:2,class:"text-left"},zo={class:"text-left"},Qo={class:"text-right"},Mo={key:0},Uo={colspan:"100%"},Do={class:"row"},Bo={class:"col-12 col-md-8 q-px-sm"},Lo={class:"col-12 col-md-4 q-px-sm"},Jo={class:"row"},Io={class:"col-12 col-md-2 q-px-sm"},Yo={class:"text-primary q-mb-sm"},Ho={class:"col-12 col-md-3 q-px-sm"},Wo={class:"text-primary q-mb-sm"},Go={class:"col-12 col-md-3 q-px-sm"},Ko={class:"q-mb-sm"},Xo={class:"col-12 col-md-3 q-px-sm"},Zo={class:"text-primary q-mb-sm"},xo={key:0},ea={colspan:"100%"},ta={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function sa(e,l,f,b,g,h){return n(),m("div",_o,[s(H,null,{default:o(()=>[s(B,{class:"q-pb-none"},{default:o(()=>[t("div",{class:k(["text-primary",e.$q.screen.lt.md?"text-body1":"text-h6"])},i(e.$q.screen.gt.md?`Named Requests for ${e.activeProject[20]}`:"Named Requests"),3)]),_:1}),s(B,null,{default:o(()=>[s(se,{dense:e.$q.screen.lt.md,flat:""},{default:o(()=>[t("thead",ko,[t("tr",null,[Co,e.$q.screen.gt.sm?(n(),m("th",Ro,"Request#")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",So,"Submitted On")):c("",!0),jo,e.$q.screen.gt.sm?(n(),m("th",Po,"Phone")):c("",!0),Vo,e.$can("create","nameRequests")?(n(),m("th",Fo)):c("",!0)])]),t("tbody",null,[(n(!0),m(C,null,j(e.nameRequestsForProject,a=>(n(),m(C,{key:a[3]},[t("tr",{class:k(a.employee[0]===void 0?"":a.employee[0][408]==="Terminated"&&!a.employee[0][421]?"bg-negative text-white":"")},[t("td",null,[s(U,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",onClick:r=>a.expand=!a.expand,name:a.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),e.$q.screen.gt.sm?(n(),m("td",To,i(a[18]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",Eo,i(e.dayjs(a[1].$d).format("MM/DD/YYYY")),1)):c("",!0),t("td",Ao,i(a[6])+" "+i(a[7]),1),e.$q.screen.gt.sm?(n(),m("td",Oo,i(a[8]),1)):c("",!0),t("td",zo,i(a.employee[0]===void 0?a[10]:a.employee[0][408]==="Terminated"&&!a.employee[0][421]?"Not Eligible":a.employee[0][552]===""?a[10]:a.employee[0][552]),1),t("td",Qo,[e.$can("create","nameRequests")?(n(),p(q,{key:0,round:"",size:"sm",color:"accent",onClick:r=>e.removeName(a),icon:"delete"},null,8,["onClick"])):(n(),p(q,{key:1,round:"",size:"sm",color:"dark",disable:"",icon:"delete"}))])],2),a.expand?(n(),m("tr",Mo,[t("td",Uo,[s(H,null,{default:o(()=>[a.employee[0][408]==="Terminated"&&!a.employee[0][421]?(n(),p(B,{key:0},{default:o(()=>[t("div",Do,[t("div",Bo,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary q-mb-sm"])}," Termination Reason ",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm"])},i(a.employee[0][420]),3)]),t("div",Lo,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary q-mb-sm"])}," Termination Date ",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm"])},i(e.dayjs(a.employee[0][400].$d).format("MM/DD/YYYY")),3)])])]),_:2},1024)):c("",!0),a.employee[0][408]==="Terminated"&&!a.employee[0][421]?(n(),p(fe,{key:1})):c("",!0),s(B,null,{default:o(()=>[t("div",Jo,[t("div",Io,[t("div",Yo,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Request#",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(a[18]),3)])]),t("div",Ho,[t("div",Wo,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Classification",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(a[24]),3)])]),t("div",Go,[t("div",Ko,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Job#",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(a[36]),3)])]),t("div",Xo,[t("div",Zo,[t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Submitted by",2),t("div",{class:k([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(a[14]),3)])])])]),_:2},1024)]),_:2},1024)])])):c("",!0)],64))),128)),e.nameRequestsForProject.length<1?(n(),m("tr",xo,[t("td",ea,[t("div",ta,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(`There are no named requests for ${e.activeProject[20]}`),1)])])])):c("",!0)])]),_:1},8,["dense"])]),_:1})]),_:1})])}var oa=L(No,[["render",sa]]);const aa=W({setup(e,l){const{openRequestsForProject:f,pendingRequestsForProject:b}=G(Q()),g=O(()=>{const d=[];return f.value.forEach(w=>{w.classes.forEach(_=>{d.push(_)})}),b.value.forEach(w=>{w.classes.forEach(_=>{d.push(_)})}),d.filter(w=>w[17]!=="Closed")});function h(d){l.emit("addSomeNames",d)}function a(d){l.emit("removeName",d)}function r(){l.emit("cancelSubmitNames")}return{rows:g,addSomeNames:h,removeName:a,cancelAddSomeNames:r}}}),la={class:"row items-center q-pb-sm"},na={class:"col-12 col-md-10 text-left"},ra={class:"col-12 col-md-2 text-right"},ia={class:"bg-dark text-white"},da={key:0,class:"text-left"},ma={key:1,class:"text-left"},ua=t("th",{class:"text-left"},"Classification",-1),ca={key:2,class:"text-left"},fa=t("th",{class:"text-right"},"Rate",-1),pa={key:3,class:"text-right"},ba={key:4},ha={key:0,class:"text-left"},$a={key:1,class:"text-left"},ga={class:"text-left"},qa={key:2,class:"text-left"},ya={class:"text-right"},va={key:3,class:"text-right"},wa={key:0},Na={class:"bg-secondary"},_a=t("th",{class:"text-left"},"Name",-1),ka={key:0,class:"text-left"},Ca={key:1,class:"text-left"},Ra=t("th",null,null,-1),Sa={class:"text-left"},ja={key:0,class:"text-left"},Pa={key:1,class:"text-left"},Va={class:"text-right"};function Fa(e,l,f,b,g,h){return n(),m("div",null,[s(H,{flat:""},{default:o(()=>[s(B,{class:"q-mt-none q-pt-none"},{default:o(()=>[t("div",la,[t("div",na,[t("div",{class:k(["text-primary",e.$q.screen.gt.sm?"text-h6":"text-body2"])},"Available Classifications",2),e.$q.screen.gt.sm?(n(),m("div",{key:0,class:k(["text-dark text-italic",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Find the classification that you would like to add names to and click add names.",2)):c("",!0)]),t("div",ra,[s(q,{dense:e.$q.screen.lt.md,color:"dark",onClick:l[0]||(l[0]=a=>e.cancelAddSomeNames()),label:"Back",size:e.$q.screen.lt.md?"sm":"md"},null,8,["dense","size"])])]),s(se,{dense:e.$q.screen.lt.md},{default:o(()=>[t("thead",null,[t("tr",ia,[e.$q.screen.gt.sm?(n(),m("th",da,"Request#")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",ma,"Status")):c("",!0),ua,e.$q.screen.gt.sm?(n(),m("th",ca,"Job Number")):c("",!0),fa,e.$q.screen.gt.sm?(n(),m("th",pa,"Qty")):c("",!0),e.$can("create","nameRequests")?(n(),m("th",ba)):c("",!0)])]),t("tbody",null,[(n(!0),m(C,null,j(e.rows,a=>(n(),m(C,{key:a[3]},[t("tr",null,[e.$q.screen.gt.sm?(n(),m("td",ha,i(a[6]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",$a,i(a[17]),1)):c("",!0),t("td",ga,i(a[21]),1),e.$q.screen.gt.sm?(n(),m("td",qa,i(a[15]),1)):c("",!0),t("td",ya,"$"+i(a[23].toFixed(2)),1),e.$q.screen.gt.sm?(n(),m("td",va,i(a[18]),1)):c("",!0),e.$can("create","nameRequests")?(n(),p(y,{key:4,class:"text-right"},{default:o(()=>[s(q,{dense:e.$q.screen.lt.md,class:"q-ml-sm",size:"sm",color:"dark",onClick:r=>e.addSomeNames(a),label:e.$q.screen.gt.sm?"Add Names":"Add"},null,8,["dense","onClick","label"])]),_:2},1024)):c("",!0)]),a.names.length>0?(n(),m("tr",wa,[s(y,{colspan:"100%"},{default:o(()=>[s(se,{dense:"",flat:"",bordered:""},{default:o(()=>[t("thead",Na,[t("tr",null,[_a,e.$q.screen.gt.sm?(n(),m("th",ka,"Phone")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",Ca,"Status")):c("",!0),Ra])]),t("tbody",null,[(n(!0),m(C,null,j(a.names,r=>(n(),m("tr",{key:r[3]},[t("td",Sa,i(r[6])+" "+i(r[7]),1),e.$q.screen.gt.sm?(n(),m("td",ja,i(r[8]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",Pa,i(r.employee===void 0||r.employee[0]===void 0?r[10]:r.employee[0][408]==="Terminated"&&!r.employee[0][421]?"Not Eligible":r.employee[0][552]===""?r[10]:r.employee[0][552]),1)):c("",!0),t("td",Va,[e.$can("create","nameRequests")?(n(),p(q,{key:0,round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",onClick:d=>e.removeName(r),icon:"delete"},null,8,["size","onClick"])):(n(),p(q,{key:1,round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"dark",disable:"",icon:"delete"},null,8,["size"]))])]))),128))])]),_:2},1024)]),_:2},1024)])):c("",!0)],64))),128))])]),_:1},8,["dense"])]),_:1})]),_:1})])}var Ta=L(aa,[["render",Fa]]);const Ea=[{name:1,label:"Craft",align:"left",field:e=>e.craft[10],format:e=>`${e}`,sortable:!0},{name:2,label:"Classification",align:"left",field:e=>e.job[18],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Rate",align:"left",field:e=>e.rate,format:e=>`${e}`,sortable:!0},{name:4,label:"Qty",align:"left",field:e=>e.qty,format:e=>`${e}`,sortable:!0,required:!0}],Aa=[{name:1,label:"Name",align:"left",field:e=>e.firstName,format:(e,l)=>`${e} ${l.lastName}`,sortable:!0},{name:2,label:"Phone",align:"left",field:e=>e.phone,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Last 4",align:"left",field:e=>e.ssn,format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.classification.job[18],format:e=>`${e}`,sortable:!0,required:!0}],Oa=W({name:"Requests",components:{openTable:St,closedTable:ss,pendingTable:zs,addClassifications:po,addNamesDialog:$o,nameRequestTable:oa,classificationsTable:Ta},setup(){const e=te(),{requestOptions:l,getClassifications:f,openRequestsForProject:b,pendingRequestsForProject:g,closedRequestsForProject:h,nameRequestsForProject:a}=G(Q()),{storeRequest:r,resetRequest:d,spliceClassification:w,spliceName:_,upsertName:E}=Q(),z=Y(0),u=Y(!1),$=Y(!1),v=Y(!1),N=Y(null),A=[{value:"Name Request Only",description:"The hiring center will only hire the names you provide, even if you DO NOT provide enough names to fill the quantity you request."},{value:"Open",description:"The hiring center will fill positions by recruiting and selecting the most qualified candidates available."},{value:"Mixed",description:"The hiring center will hire all of the names that you provide and fill remaining positions by recruiting and selecting the most qualified candidates available."}],P=[{value:"Backfill",description:"This request is to fill positions that are open because of an employee leaving the job site."},{value:"Increase in Manpower",description:"This request is to fill positions that are new because of an increased need in manpower. This may be due to a change in the scope of an existing contract, an additional contract awarded, etc."}];qe(f,()=>{console.log(f.value)});const ee=M({jobNumber:M().required("Job number is required."),contact:M().required().nullable("Contact is required."),location:M().required().nullable("Location is required."),perdiem:M().nullable(),dateNeeded:Ye().required().nullable("Date needed is required."),restriction:M().required().label("Request Type"),reason:M().required().label("Request Reason")}),{meta:ye,errors:ve,handleSubmit:we,handleReset:pe}=le({validationSchema:ee,initialValues:{restriction:A[1],reason:P[0]}}),{value:Ne}=R("jobNumber"),{value:_e}=R("contact"),{value:ke}=R("location"),{value:Ce}=R("perdiem"),{value:Re}=R("dateNeeded"),{value:Se}=R("restriction"),{value:je}=R("reason"),Pe=we(async V=>{console.log(V),e.loading.show();try{await r({request:V}),pe(),z.value=1,u.value=!1,e.notify({type:"positive",message:"Request submitted!"})}catch{e.notify({type:"negative",message:"There was a problem submitting request!"})}e.loading.hide()}),Ve=O(()=>{const V=[];return f.value.forEach(be=>{be.names.forEach(Be=>{V.push(Be)})}),V}),Fe=O(()=>l.value.jobNumbers),Te=O(()=>l.value.perdiem.length>0?l.value.perdiem:null),Ee=O(()=>l.value.locations),Ae=O(()=>l.value.contacts);function Oe(){e.dialog({title:"Confirm",message:"Are you sure you want to cancel? All of your progress will be lost.",cancel:!0,persistent:!0}).onOk(()=>{d(),u.value=!1,pe()})}function ze(V){e.dialog({title:"Confirm",message:"Are you sure you want to delete this classification?",cancel:!0,persistent:!0}).onOk(()=>{w({item:V})})}function Qe(V){e.dialog({title:"Confirm",message:"Are you sure you want to delete this name?",cancel:!0,persistent:!0}).onOk(()=>{_({item:V})})}function Me(V){console.log(V),e.dialog({title:"Confirm",message:`Are you sure you want to delete ${V[6]} ${V[7]} from request# ${V[18]}?`,cancel:!0,persistent:!0}).onOk(async()=>{await E({name:V,action:"delete"}),e.notify({type:"positive",message:"Name deleted!"})})}function Ue(V){N.value=V,v.value=!0}function De(){e.notify({type:"positive",message:"New name added!"}),N.value=null,v.value=!1}return console.log(a.value),{tab:z,showNew:u,getClassifications:f,columns:Ea,nameColumns:Aa,jobNumbers:Fe,perdiems:Te,locations:Ee,contacts:Ae,restrictions:A,reasons:P,submitRequest:Pe,jobNumber:Ne,contact:_e,location:ke,perdiem:Ce,dateNeeded:Re,restriction:Se,reason:je,formMeta:ye,formErrors:ve,removeClassification:ze,cancelNew:Oe,openRequestsForProject:b,pendingRequestsForProject:g,closedRequestsForProject:h,removeName:Qe,names:Ve,addSomeNames:Ue,showAddSomeNames:v,jobForNewName:N,newNameAdded:De,deleteName:Me,nameRequestsForProject:a,showSubmitNames:$}}}),za={class:"q-px-sm"},Qa={class:"row justify-between"},Ma={class:"col-12 col-md-5 q-pr-lg"},Ua={class:"text-caption"},Da=t("div",null,[t("span",null,"Request Reason")],-1),Ba={class:"text-caption"},La={class:"text-caption"},Ja=t("div",null,[t("span",null,"Request Type")],-1),Ia={class:"text-caption"},Ya={class:"text-caption"},Ha={class:"text-caption"},Wa={class:"text-caption"},Ga={class:"text-caption"},Ka={class:"text-caption"},Xa={class:"col-12 col-md-7"},Za={class:"q-mt-md"},xa={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},el={key:1,class:"q-mt-md"},tl={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function sl(e,l,f,b,g,h){const a=J("open-table"),r=J("pending-table"),d=J("name-request-table"),w=J("closed-table"),_=J("add-classifications"),E=J("classifications-table"),z=J("add-names-dialog");return n(),m("div",null,[t("div",za,[s(ie,{duration:100},{default:o(()=>[X(t("div",null,[e.$q.screen.lt.md?(n(),p(H,{key:0,flat:"",class:"q-mb-sm q-mt-none q-pt-none"},{default:o(()=>[s(ce,{align:"right"},{default:o(()=>[e.$can("create","projectRequests")?(n(),p(q,{key:0,dense:"",color:"primary",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:l[0]||(l[0]=u=>e.showNew=!0)},null,8,["label"])):c("",!0)]),_:1})]),_:1})):c("",!0),s(He,{class:"bg-info text-white shadow-2 rounded-borders"},{default:o(()=>[s(Ke,{modelValue:e.tab,"onUpdate:modelValue":l[1]||(l[1]=u=>e.tab=u),"bg-color":"none","indicator-color":"accent",dense:e.$q.screen.lt.md},{default:o(()=>[s(oe,{name:0,label:e.$q.screen.gt.xs?"Open Requests":"Open"},{default:o(()=>[e.openRequestsForProject.length>0?(n(),p(de,{key:0,color:"accent",floating:"",transparent:""},{default:o(()=>[F(i(e.openRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"]),e.$q.screen.gt.sm?(n(),p(oe,{key:0,name:1,label:e.$q.screen.gt.xs?"Pending Requests":"Pending"},{default:o(()=>[e.pendingRequestsForProject.length>0?(n(),p(de,{key:0,color:"accent",floating:"",transparent:""},{default:o(()=>[F(i(e.pendingRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),e.$can("read","nameRequests")?(n(),p(oe,{key:1,name:2,label:e.$q.screen.gt.xs?"Named Requests":"Named"},{default:o(()=>[e.nameRequestsForProject.length>0?(n(),p(de,{key:0,color:"accent",floating:"",transparent:""},{default:o(()=>[F(i(e.nameRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),e.$q.screen.gt.sm?(n(),p(oe,{key:2,name:3,label:e.$q.screen.gt.xs?"Completed Requests":"Completed"},null,8,["label"])):c("",!0)]),_:1},8,["modelValue","dense"]),s(Ze),!e.showNew&&e.$q.screen.gt.sm&&e.$can("create","nameRequests")&&(e.openRequestsForProject.length>0||e.pendingRequestsForProject.length>0)?(n(),p(q,{key:0,class:"q-mr-sm",dense:"",color:"secondary",icon:"person_add",label:(e.$q.screen.lt.md,"Submit Names"),onClick:l[2]||(l[2]=u=>e.showSubmitNames=!0)},null,8,["label"])):c("",!0),!e.showNew&&e.$q.screen.gt.sm?(n(),p(q,{key:1,dense:"",color:"accent",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:l[3]||(l[3]=u=>e.showNew=!0)},null,8,["label"])):c("",!0)]),_:1}),s(Xe,{modelValue:e.tab,"onUpdate:modelValue":l[4]||(l[4]=u=>e.tab=u),animated:""},{default:o(()=>[s(ae,{name:0},{default:o(()=>[s(a,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),s(ae,{name:1},{default:o(()=>[s(r,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),s(ae,{name:2},{default:o(()=>[s(d,{onRemoveName:e.deleteName},null,8,["onRemoveName"])]),_:1}),s(ae,{name:3},{default:o(()=>[s(w)]),_:1})]),_:1},8,["modelValue"])],512),[[Z,!e.showNew&&!e.showSubmitNames]])]),_:1}),s(ie,{duration:100},{default:o(()=>[X(t("div",null,[s(H,null,{default:o(()=>[s(re,{onSubmit:ne(e.submitRequest,["prevent"])},{default:o(()=>[s(B,null,{default:o(()=>[t("div",Qa,[t("div",Ma,[s(I,{class:"q-mb-sm",dense:"","label-slot":"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.reason,"onUpdate:modelValue":l[5]||(l[5]=u=>e.reason=u),options:e.reasons,"option-label":"value","display-value":e.reason?e.reason.value:"","bottom-slots":"",error:!!e.formErrors.reason},{error:o(()=>[t("div",Ua,i(e.formErrors.reason),1)]),label:o(()=>[Da]),after:o(()=>[s(q,{size:"xs",color:"accent",round:"",icon:"question_mark"},{default:o(()=>[s($e,{anchor:"top middle",self:"center middle",class:"bg-primary text-white"},{default:o(()=>[t("div",null,[t("div",Ba,i(e.reason?e.reason.description:""),1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","display-value","error"]),s(I,{class:"q-mb-sm",dense:"","label-slot":"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.restriction,"onUpdate:modelValue":l[6]||(l[6]=u=>e.restriction=u),options:e.restrictions,"option-label":"value","display-value":e.restriction?e.restriction.value:"","bottom-slots":"",error:!!e.formErrors.restriction},{error:o(()=>[t("div",La,i(e.formErrors.restriction),1)]),label:o(()=>[Ja]),after:o(()=>[s(q,{size:"xs",color:"accent",round:"",icon:"question_mark"},{default:o(()=>[s($e,{anchor:"top middle",self:"center middle",class:"bg-primary text-white"},{default:o(()=>[t("div",null,[t("div",Ia,i(e.restriction?e.restriction.description:""),1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","display-value","error"]),s(I,{class:"q-mb-sm",dense:"",label:"Select Job Number","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.jobNumber,"onUpdate:modelValue":l[7]||(l[7]=u=>e.jobNumber=u),options:e.jobNumbers,"option-label":"11","display-value":`${e.jobNumber?e.jobNumber[11]:""}`,"bottom-slots":"",error:!!e.formErrors.jobNumber},{error:o(()=>[t("div",Ya,i(e.formErrors.jobNumber),1)]),_:1},8,["modelValue","options","display-value","error"]),s(I,{class:"q-mb-sm",dense:"",label:"Select Contact","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.contact,"onUpdate:modelValue":l[8]||(l[8]=u=>e.contact=u),options:e.contacts,"option-label":"17","display-value":`${e.contact?e.contact[17]:""}`,"bottom-slots":"",error:!!e.formErrors.contact},{error:o(()=>[t("div",Ha,i(e.formErrors.contact),1)]),_:1},8,["modelValue","options","display-value","error"]),s(I,{class:"q-mb-sm",dense:"",label:"Select Meeting Location","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.location,"onUpdate:modelValue":l[9]||(l[9]=u=>e.location=u),options:e.locations,"option-label":"6","display-value":`${e.location?e.location[6]:""}`,"bottom-slots":"",error:!!e.formErrors.location},{error:o(()=>[t("div",Wa,i(e.formErrors.location),1)]),_:1},8,["modelValue","options","display-value","error"]),s(I,{class:"q-mb-sm",dense:"",label:"Per Diem","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.perdiem,"onUpdate:modelValue":l[10]||(l[10]=u=>e.perdiem=u),options:e.perdiems,"option-label":"20","display-value":`${e.perdiem?e.perdiem[20]:""}`,"bottom-slots":"",error:!!e.formErrors.perdiem},{error:o(()=>[t("div",Ga,i(e.formErrors.perdiem),1)]),_:1},8,["modelValue","options","display-value","error"]),s(D,{dense:"",type:"date",modelValue:e.dateNeeded,"onUpdate:modelValue":l[11]||(l[11]=u=>e.dateNeeded=u),"bottom-slots":"",error:!!e.formErrors.dateNeeded,label:"Date Needed","stack-label":""},{error:o(()=>[t("div",Ka,i(e.formErrors.dateNeeded),1)]),_:1},8,["modelValue","error"])]),t("div",Xa,[e.$q.screen.lt.md?(n(),p(fe,{key:0,color:"primary"})):c("",!0),s(_,{clearForm:!e.showNew},null,8,["clearForm"]),t("div",Za,[s(x,{dense:"",rows:e.getClassifications,"row-key":"id",columns:e.columns,"table-header-class":"bg-secondary","no-data-label":"At least one classification is required."},{"no-data":o(({message:u})=>[t("div",xa,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(u),1)])]),header:o(u=>[s(S,{class:"bg-dark text-white",props:u},{default:o(()=>[(n(!0),m(C,null,j(u.cols,$=>(n(),p(T,{key:$.name,props:u},{default:o(()=>[F(i($.label),1)]),_:2},1032,["props"]))),128)),s(T,{"auto-width":""})]),_:2},1032,["props"])]),body:o(u=>[s(S,{props:u},{default:o(()=>[(n(!0),m(C,null,j(u.cols,$=>(n(),p(y,{key:$.name,props:u},{default:o(()=>[F(i($.value),1)]),_:2},1032,["props"]))),128)),s(y,{"auto-width":""},{default:o(()=>[s(q,{size:"xs",round:"",color:"primary",onClick:$=>e.removeClassification(u.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),e.names.length>0&&e.$can("read","nameRequests")?(n(),m("div",el,[s(x,{dense:"",rows:e.names,"row-key":"id",columns:e.nameColumns,"table-header-class":"bg-secondary","no-data-label":"No names added."},{"no-data":o(({message:u})=>[t("div",tl,[s(U,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(u),1)])]),header:o(u=>[s(S,{class:"bg-dark text-white",props:u},{default:o(()=>[(n(!0),m(C,null,j(u.cols,$=>(n(),p(T,{key:$.name,props:u},{default:o(()=>[F(i($.label),1)]),_:2},1032,["props"]))),128)),s(T,{"auto-width":""})]),_:2},1032,["props"])]),body:o(u=>[s(S,{props:u},{default:o(()=>[(n(!0),m(C,null,j(u.cols,$=>(n(),p(y,{key:$.name,props:u},{default:o(()=>[F(i($.value),1)]),_:2},1032,["props"]))),128)),s(y,{"auto-width":""},{default:o(()=>[s(q,{size:"xs",round:"",color:"primary",onClick:$=>e.removeName(u.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])):c("",!0)])])]),_:1}),s(ce,{align:"right"},{default:o(()=>[s(q,{color:"dark",label:"Cancel",onClick:e.cancelNew},null,8,["onClick"]),s(q,{disabled:!e.getClassifications.length>0,color:"primary",label:"Submit",type:"submit"},null,8,["disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})],512),[[Z,e.showNew]])]),_:1}),s(ie,{duration:100},{default:o(()=>[X(t("div",null,[s(E,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName,onCancelSubmitNames:l[12]||(l[12]=u=>e.showSubmitNames=!1)},null,8,["onAddSomeNames","onRemoveName"])],512),[[Z,e.showSubmitNames]])]),_:1})]),s(We,{modelValue:e.showAddSomeNames,"onUpdate:modelValue":l[14]||(l[14]=u=>e.showAddSomeNames=u),persistent:""},{default:o(()=>[s(z,{job:e.jobForNewName,onCloseNames:l[13]||(l[13]=u=>e.showAddSomeNames=!1),onNewNameAdded:e.newNameAdded},null,8,["job","onNewNameAdded"])]),_:1},8,["modelValue"])])}var ol=L(Oa,[["render",sl]]);const al={name:"Requests",components:{RequestPage:ol},setup(){return{}}};function ll(e,l,f,b,g,h){const a=J("request-page");return n(),p(Ge,{style:{"max-width":"100vw","max-height":"100vh"}},{default:o(()=>[s(a)]),_:1})}var fl=L(al,[["render",ll]]);export{fl as default};
