import{l as X,bD as ae,bR as Z,cH as E,c as A,_ as G,p as n,t as m,d as s,bb as a,bK as J,v as t,a4 as i,bJ as H,F as R,aR as P,ag as p,an as V,b_ as D,bd as ee,bw as te,ah as c,bP as y,y as C,r as I,bF as Q,bV as x,bH as de,bI as S,bM as B,bL as W,by as me,bQ as ue,bG as je,w as we,aS as K,bO as ie,bY as Ke,bN as _e,bC as Ne,cI as We,c1 as Xe,c0 as qe,bS as Ze,c2 as xe}from"./index.384d1433.js";import{Q as ye}from"./QBadge.79616a29.js";import{a as et,Q as ne,c as tt,b as re}from"./QTabPanels.947fb208.js";import{Q as st}from"./QSpace.1951f3b0.js";import{Q as ve}from"./QTooltip.11980b49.js";import{a as F,Q as se}from"./QTable.6afca437.js";import{Q as j,a as w}from"./QTd.d6fc42ce.js";import{Q as oe}from"./QMarkupTable.62d48a28.js";const at=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:1,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Deployed",align:"right",field:e=>e[254],format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0}],ot=[{name:9,label:"Balance",align:"right",field:e=>e.map.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],lt=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:e=>e[17],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Offers",align:"right",field:e=>e.accepted.length,format:e=>`${e}`},{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0}],nt=[{name:9,label:"Balance",align:"right",field:e=>e.balance,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0}],rt=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e[10],format:e=>`${e}`}],it=X({name:"Open Table",components:{},setup(e,l){const f=ae(),{activeProject:g,openRequestsForProject:$,openRequestsForProjectSummary:q}=Z(E()),o=$,r=A(()=>f.screen.lt.md?100:10);function d(_){l.emit("addSomeNames",_)}function N(_){l.emit("removeName",_)}return console.log(o.value),{columns:at,rows:o,initialPagination:{rowsPerPage:r},separator:"vertical",secondColumns:lt,mobileColumns:ot,secMobileColumns:nt,activeProject:g,openRequestsForProjectSummary:q,nameColumns:rt,addSomeNames:d,removeName:N}}}),dt={class:"q-px-none"},mt={class:"row text-caption"},ut={class:"col-12 col-md-2"},ct=t("span",{class:"text-accent"},"Total Requests:",-1),ft={class:"text-white q-ml-sm"},pt={class:"col-12 col-md-2"},bt=t("span",{class:"text-accent"},"Classifications:",-1),ht={class:"text-white q-ml-sm"},gt={class:"col-12 col-md-2"},$t=t("span",{class:"text-accent"},"Total Need:",-1),qt={class:"text-white q-ml-sm"},yt={class:"col-12 col-md-2"},vt=t("span",{class:"text-accent"},"Balance:",-1),wt={class:"text-white q-ml-sm"},Nt={class:"col-12 col-md-2"},_t=t("span",{class:"text-accent"},"Avg. Rate:",-1),kt={class:"text-white q-ml-sm"},Ct={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Rt=t("thead",{class:"bg-accent"},[t("tr",null,[t("th",{class:"text-left"},"Name"),t("th",{class:"text-left"},"Phone"),t("th",{class:"text-left"},"Status")])],-1),St={class:"text-left"},jt={key:0,class:"text-left"},Pt={class:"text-left"};function Vt(e,l,f,g,$,q){return n(),m("div",dt,[s(H,{class:"q-mb-md bg-dark"},{default:a(()=>[s(J,{class:"q-pa-sm"},{default:a(()=>[t("div",mt,[t("div",ut,[t("div",null,[ct,t("span",ft,i(e.openRequestsForProjectSummary.requestCount),1)])]),t("div",pt,[t("div",null,[bt,t("span",ht,i(e.openRequestsForProjectSummary.classCount),1)])]),t("div",gt,[t("div",null,[$t,t("span",qt,i(e.openRequestsForProjectSummary.need),1)])]),t("div",yt,[t("div",null,[vt,t("span",wt,i(e.openRequestsForProjectSummary.balance),1)])]),t("div",Nt,[t("div",null,[_t,t("span",kt,"$ "+i(e.openRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),s(se,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Open Requests for ${e.activeProject[20]}`:"Open Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no open requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.md},{header:a(o=>[s(j,{class:"bg-dark text-white",props:o},{default:a(()=>[s(F,{"auto-width":""}),(n(!0),m(R,null,P(o.cols,r=>(n(),p(F,{key:r.name,props:o},{default:a(()=>[V(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":a(({message:o})=>[t("div",Ct,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(o),1)])]),body:a(o=>[s(j,{props:o},{default:a(()=>[s(w,{"auto-width":""},{default:a(()=>[s(D,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:r=>o.expand=!o.expand,name:o.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1024),(n(!0),m(R,null,P(o.cols,r=>(n(),p(w,{key:r.name,props:o},{default:a(()=>[V(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),ee(s(j,{props:o},{default:a(()=>[s(w,{colspan:"100%"},{default:a(()=>[s(se,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:o.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:a(r=>[s(j,{class:"bg-dark text-white",props:r},{default:a(()=>[s(F,{"auto-width":""}),(n(!0),m(R,null,P(r.cols,d=>(n(),p(F,{key:d.name,props:r},{default:a(()=>[V(i(d.label),1)]),_:2},1032,["props"]))),128)),s(F,{"auto-width":""})]),_:2},1032,["props"])]),body:a(r=>[s(j,{props:r},{default:a(()=>[s(w,{"auto-width":""},{default:a(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),p(D,{key:0,class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:d=>r.expand=!r.expand,name:r.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])):c("",!0)]),_:2},1024),(n(!0),m(R,null,P(r.cols,d=>(n(),p(w,{key:d.name,props:r},{default:a(()=>[V(i(d.value),1)]),_:2},1032,["props"]))),128)),s(w,{"auto-width":""},{default:a(()=>[e.$can("create","nameRequests")?(n(),p(y,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:d=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?ee((n(),p(j,{key:0,props:r},{default:a(()=>[s(w,{colspan:"100%"},{default:a(()=>[s(oe,{dense:"",flat:"",bordered:""},{default:a(()=>[Rt,t("tbody",null,[(n(!0),m(R,null,P(r.row.names,d=>(n(),m("tr",{key:d[3],class:C(d.employee[0]===void 0?"":d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"bg-negative text-white":"")},[t("td",St,i(d[6])+" "+i(d[7]),1),e.$q.screen.gt.sm?(n(),m("td",jt,i(d[8]),1)):c("",!0),t("td",Pt,i(d.employee[0]===void 0?d[10]:d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"Not Eligible":d.employee[0][552]===""?d[10]:d.employee[0][552]),1)],2))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[te,r.expand]]):c("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[te,o.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var Ft=G(it,[["render",Vt]]);const Tt=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:10,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],At=[{name:1,label:"Created",align:"left",field:e=>e.map.created,format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Time Open",align:"right",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:6,label:"#Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:7,label:"All Offers",align:"right",field:e=>e.map.offers.length,format:e=>`${e}`,sortable:!0,required:!0},{name:8,label:"Accepted",align:"right",field:e=>e.map.accepted.length,format:e=>`${e}`,sortable:!0,required:!0},{name:9,label:"Rejected",align:"right",field:e=>e.map.rejected.length,format:e=>`${e}`,sortable:!0,required:!0},{name:10,label:"Rescinded",align:"right",field:e=>e.map.rescinded.length,format:e=>`${e}`,sortable:!0,required:!0}],Et=[{name:1,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],Ot=[{name:1,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:2,label:"Time Open",align:"right",field:e=>e.duration,format:e=>`${e}`,sortable:!0}],zt=X({name:"Closed Table",components:{},setup(){const e=ae(),{activeProject:l,closedRequestsForProject:f,closedRequestsForProjectSummary:g}=Z(E()),$=f,q=A(()=>e.screen.lt.md?100:5);return{columns:Tt,rows:$,initialPagination:{rowsPerPage:q},separator:"vertical",secondColumns:Et,mobileColumns:At,secMobileColumns:Ot,activeProject:l,closedRequestsForProjectSummary:g}}}),Qt={class:"q-px-none"},Mt={class:"row text-caption"},Ut={class:"col-12 col-md-2"},Dt=t("span",{class:"text-accent"},"Requests:",-1),Lt={class:"text-white q-ml-sm"},Jt={class:"col-12 col-md-2"},Bt=t("span",{class:"text-accent"},"Classifications:",-1),Yt={class:"text-white q-ml-sm"},It={class:"col-12 col-md-2"},Ht=t("span",{class:"text-accent"},"Need:",-1),Gt={class:"text-white q-ml-sm"},Kt={class:"col-12 col-md-2"},Wt=t("span",{class:"text-accent"},"Offers:",-1),Xt={class:"text-white q-ml-sm"},Zt={class:"col-12 col-md-2"},xt=t("span",{class:"text-accent"},"Avg. Rate:",-1),es={class:"text-white q-ml-sm"},ts={class:"col-12 col-md-2"},ss=t("span",{class:"text-accent"},"Avg. Time Open:",-1),as={class:"text-white q-ml-sm"},os={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function ls(e,l,f,g,$,q){return n(),m("div",Qt,[s(H,{class:"q-mb-md bg-dark"},{default:a(()=>[s(J,{class:"q-pa-sm"},{default:a(()=>[t("div",Mt,[t("div",Ut,[t("div",null,[Dt,t("span",Lt,i(e.closedRequestsForProjectSummary.requestCount),1)])]),t("div",Jt,[t("div",null,[Bt,t("span",Yt,i(e.closedRequestsForProjectSummary.classCount),1)])]),t("div",It,[t("div",null,[Ht,t("span",Gt,i(e.closedRequestsForProjectSummary.need),1)])]),t("div",Kt,[t("div",null,[Wt,t("span",Xt,i(e.closedRequestsForProjectSummary.offers),1)])]),t("div",Zt,[t("div",null,[xt,t("span",es,"$ "+i(e.closedRequestsForProjectSummary.avgRate),1)])]),t("div",ts,[t("div",null,[ss,t("span",as,i(e.closedRequestsForProjectSummary.avgDuration),1)])])])]),_:1})]),_:1}),s(se,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Completed Requests for ${e.activeProject[20]}`:"Completed Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no completed requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:a(o=>[s(j,{class:"bg-dark text-white",props:o},{default:a(()=>[s(F,{"auto-width":""}),(n(!0),m(R,null,P(o.cols,r=>(n(),p(F,{key:r.name,props:o},{default:a(()=>[V(i(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"no-data":a(({message:o})=>[t("div",os,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(o),1)])]),body:a(o=>[s(j,{props:o},{default:a(()=>[s(w,{"auto-width":""},{default:a(()=>[s(D,{class:"cursor-pointer",size:"sm",color:"info",round:"",dense:"",onClick:r=>o.expand=!o.expand,name:o.expand?"visibility_off":"visibility"},null,8,["onClick","name"])]),_:2},1024),(n(!0),m(R,null,P(o.cols,r=>(n(),p(w,{key:r.name,props:o},{default:a(()=>[V(i(r.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),ee(s(j,{props:o},{default:a(()=>[s(w,{colspan:"100%"},{default:a(()=>[t("div",null,[s(se,{dense:"",title:"Classifications","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:o.row.classes,"row-key":"3","table-header-class":"bg-secondary"},null,8,["columns","rows"])])]),_:2},1024)]),_:2},1032,["props"]),[[te,o.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var ns=G(zt,[["render",ls]]);const rs=[{name:5,label:"Created",align:"left",field:e=>e.map.duration,format:e=>`${e}`,sortable:!0},{name:2,label:"ID",align:"left",field:e=>e[3],format:e=>`${e}`,sortable:!0,required:!0},{name:1,label:"Type",align:"left",field:e=>e[282],format:e=>`${e===""?"Open":e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`}],is=[{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],ds=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Quantity",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],ms=[{name:3,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Qty",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],us=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e.employee[0][80],format:(e,l)=>`${e===""?l[10]:e}`}],cs=X({name:"Open Table",components:{},setup(e,l){const f=ae(),{submitCancelRequest:g,submitCancelClassification:$}=E(),{activeProject:q,pendingRequestsForProject:o,pendingRequestsForProjectSummary:r}=Z(E()),d=o,N=A(()=>f.screen.lt.md?100:10);function _(b){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(async()=>{try{await g({request:b}),f.notify({type:"positive",message:"Request Canceled!",position:"top-right"})}catch(v){f.notify({type:"negative",message:v,position:"top-right"})}})}function O(b){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this classification?",cancel:!0,persistent:!0}).onOk(async()=>{try{const v=await $({item:b});f.notify({type:"positive",message:v,position:"top-right"})}catch(v){f.notify({type:"negative",message:v,position:"top-right"})}})}function z(b){l.emit("addSomeNames",b)}function u(b){l.emit("removeName",b)}return console.log(o.value),{columns:rs,rows:d,initialPagination:{rowsPerPage:N},separator:"vertical",secondColumns:ds,mobileColumns:is,secMobileColumns:ms,nameColumns:us,activeProject:q,pendingRequestsForProjectSummary:r,cancelRequest:_,cancelClassification:O,addSomeNames:z,removeName:u}}}),fs={class:"q-px-none"},ps={class:"row text-caption"},bs={class:"col-12 col-md-2"},hs=t("span",{class:"text-accent"},"Total Requests:",-1),gs={class:"text-white q-ml-sm"},$s={class:"col-12 col-md-2"},qs=t("span",{class:"text-accent"},"Classifications:",-1),ys={class:"text-white q-ml-sm"},vs={class:"col-12 col-md-2"},ws=t("span",{class:"text-accent"},"Total Need:",-1),Ns={class:"text-white q-ml-sm"},_s={class:"col-12 col-md-2"},ks=t("span",{class:"text-accent"},"Balance:",-1),Cs={class:"text-white q-ml-sm"},Rs={class:"col-12 col-md-2"},Ss=t("span",{class:"text-accent"},"Avg. Rate:",-1),js={class:"text-white q-ml-sm"},Ps={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},Vs={class:"bg-accent"},Fs=t("th",{class:"text-left"},"Name",-1),Ts=t("th",{class:"text-left"},"Phone",-1),As=t("th",{class:"text-left"},"Status",-1),Es={key:0},Os={class:"text-left"},zs={key:0,class:"text-left"},Qs={class:"text-left"},Ms={class:"text-right"};function Us(e,l,f,g,$,q){return n(),m("div",fs,[s(H,{class:"q-mb-md bg-dark"},{default:a(()=>[s(J,{class:"q-pa-sm"},{default:a(()=>[t("div",ps,[t("div",bs,[t("div",null,[hs,t("span",gs,i(e.pendingRequestsForProjectSummary.requestCount),1)])]),t("div",$s,[t("div",null,[qs,t("span",ys,i(e.pendingRequestsForProjectSummary.classCount),1)])]),t("div",vs,[t("div",null,[ws,t("span",Ns,i(e.pendingRequestsForProjectSummary.need),1)])]),t("div",_s,[t("div",null,[ks,t("span",Cs,i(e.pendingRequestsForProjectSummary.balance),1)])]),t("div",Rs,[t("div",null,[Ss,t("span",js,"$ "+i(e.pendingRequestsForProjectSummary.avgRate),1)])])])]),_:1})]),_:1}),s(se,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.gt.md?`Pending Requests for ${e.activeProject[20]}`:"Pending Requests",columns:e.$q.screen.lt.sm?e.mobileColumns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,"table-header-class":"bg-dark text-white","no-data-label":`There are no pending requests for ${e.activeProject[20]}`,dense:e.$q.screen.lt.sm},{header:a(o=>[s(j,{class:"bg-dark text-white",props:o},{default:a(()=>[s(F,{"auto-width":""}),(n(!0),m(R,null,P(o.cols,r=>(n(),p(F,{key:r.name,props:o},{default:a(()=>[V(i(r.label),1)]),_:2},1032,["props"]))),128)),s(F,{"auto-width":""})]),_:2},1032,["props"])]),"no-data":a(({message:o})=>[t("div",Ps,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(o),1)])]),body:a(o=>[s(j,{props:o,class:C(o.row.updated?"bg-accent":"")},{default:a(()=>[s(w,{"auto-width":""},{default:a(()=>[s(D,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:r=>o.expand=!o.expand,name:o.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),_:2},1024),(n(!0),m(R,null,P(o.cols,r=>(n(),p(w,{key:r.name,props:o},{default:a(()=>[V(i(r.value),1)]),_:2},1032,["props"]))),128)),s(w,{"auto-width":""},{default:a(()=>[s(y,{size:"sm",color:"primary",onClick:r=>e.cancelRequest(o.row),label:"Cancel"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props","class"]),ee(s(j,{props:o},{default:a(()=>[s(w,{colspan:"100%"},{default:a(()=>[s(se,{dense:"","hide-pagination":!0,columns:e.$q.screen.lt.sm?e.secMobileColumns:e.secondColumns,rows:o.row.classes,"row-key":"3","table-header-class":"bg-secondary"},{header:a(r=>[s(j,{class:"bg-dark text-white",props:r},{default:a(()=>[s(F,{"auto-width":""}),(n(!0),m(R,null,P(r.cols,d=>(n(),p(F,{key:d.name,props:r},{default:a(()=>[V(i(d.label),1)]),_:2},1032,["props"]))),128)),s(F,{"auto-width":""})]),_:2},1032,["props"])]),body:a(r=>[s(j,{props:r},{default:a(()=>[s(w,{"auto-width":""},{default:a(()=>[r.row.names.length>0&&e.$can("read","nameRequests")?(n(),p(D,{key:0,class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",round:"",dense:"",onClick:d=>r.expand=!r.expand,name:r.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])):c("",!0)]),_:2},1024),(n(!0),m(R,null,P(r.cols,d=>(n(),p(w,{key:d.name,props:r},{default:a(()=>[V(i(d.value),1)]),_:2},1032,["props"]))),128)),s(w,{"auto-width":""},{default:a(()=>[s(y,{size:"sm",color:"primary",onClick:d=>e.cancelClassification(r.row),label:"remove"},null,8,["onClick"]),e.$can("create","nameRequests")?(n(),p(y,{key:0,class:"q-ml-sm",size:"sm",color:"dark",onClick:d=>e.addSomeNames(r.row),label:"Add Names"},null,8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1032,["props"]),r.row.names.length>0?ee((n(),p(j,{key:0,props:r},{default:a(()=>[s(w,{colspan:"100%"},{default:a(()=>[s(oe,{dense:"",flat:"",bordered:"",separator:"none"},{default:a(()=>[t("thead",Vs,[t("tr",null,[Fs,Ts,As,e.$can("create","nameRequests")?(n(),m("th",Es)):c("",!0)])]),t("tbody",null,[(n(!0),m(R,null,P(r.row.names,d=>(n(),m("tr",{key:d[3],class:C(d.employee[0]===void 0?"":d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"bg-negative text-white":"")},[t("td",Os,i(d[6])+" "+i(d[7]),1),e.$q.screen.gt.sm?(n(),m("td",zs,i(d[8]),1)):c("",!0),t("td",Qs,i(d.employee[0]===void 0?d[10]:d.employee[0][408]==="Terminated"&&!d.employee[0][421]?"Not Eligible":d.employee[0][552]===""?d[10]:d.employee[0][552]),1),t("td",Ms,[e.$can("create","nameRequests")?(n(),p(y,{key:0,round:"",size:"sm",color:"accent",onClick:N=>e.removeName(d),icon:"delete"},null,8,["onClick"])):(n(),p(y,{key:1,round:"",size:"sm",color:"dark",disable:"",icon:"delete"}))])],2))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])),[[te,r.expand]]):c("",!0)]),_:2},1032,["columns","rows"])]),_:2},1024)]),_:2},1032,["props"]),[[te,o.expand]])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","dense"])])}var Ds=G(cs,[["render",Us]]);const Ls=X({components:{},setup(){const{addedClassifications:e,addedNames:l}=Z(E()),{pushName:f}=E(),g=I(10),$=I(null),q=A(()=>{const h=new RegExp("^[0-9]{"+g.value+"}","g");return Q({job:Q().required("Classification is required"),firstName:x().required().label("First Name"),lastName:x().required().label("Last Name"),phoneNumber:x().matches(h,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:x().matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:o,errors:r,handleSubmit:d,handleReset:N}=de({validationSchema:q}),{value:_}=S("job"),{value:O}=S("firstName"),{value:z}=S("lastName"),{value:u}=S("phoneNumber"),{value:b}=S("ssn"),v=d(async h=>{console.log(h);const M={classification:h.job,id:l.value.length+1,firstName:h.firstName,lastName:h.lastName,phone:h.phoneNumber,ssn:h.ssn};console.log(M),f(M),N()}),L=h=>{$.value=h},T=h=>{g.value=h};return console.log(e.value),{job:_,firstName:O,lastName:z,phoneNumber:u,ssn:b,formMeta:o,formErrors:r,submit:v,addedClassifications:e,updateCountry:L,updatePhoneMaxLength:T}}}),Js=t("div",{class:"row justify-between q-mb-sm"},[t("div",{class:"col-12 col-md-12"},[t("div",{class:"text-dark text-body1"},"Add Names"),t("div",{class:"text-primary text-caption text-italic"},"When you are done, click Finish.")])],-1),Bs={class:"row"},Ys={class:"col-12 col-md-6 q-px-sm"},Is={class:"text-caption"},Hs={class:"text-caption"},Gs={class:"text-caption"},Ks={class:"text-caption"},Ws={class:"col-12 col-md-5 q-px-sm"},Xs={class:"text-caption"},Zs={class:"q-mt-md",align:"right"};function xs(e,l,f,g,$,q){return n(),m("div",{class:C(e.$q.screen.lt.md?"q-pt-md":"")},[Js,s(ue,{onSubmit:me(e.submit,["prevent"])},{default:a(()=>[t("div",Bs,[t("div",Ys,[s(B,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":l[0]||(l[0]=o=>e.firstName=o),error:!!e.formErrors.firstName,"bottom-slots":""},{error:a(()=>[t("div",Is,i(e.formErrors.firstName),1)]),_:1},8,["modelValue","error"]),s(B,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":l[1]||(l[1]=o=>e.lastName=o),error:!!e.formErrors.lastName,"bottom-slots":""},{error:a(()=>[t("div",Hs,i(e.formErrors.lastName),1)]),_:1},8,["modelValue","error"]),s(B,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l[2]||(l[2]=o=>e.phoneNumber=o),error:!!e.formErrors.phoneNumber,"bottom-slots":""},{error:a(()=>[t("div",Gs,i(e.formErrors.phoneNumber),1)]),_:1},8,["modelValue","error"]),s(B,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":l[3]||(l[3]=o=>e.ssn=o),error:!!e.formErrors.ssn,"bottom-slots":""},{error:a(()=>[t("div",Ks,i(e.formErrors.ssn),1)]),_:1},8,["modelValue","error"])]),t("div",Ws,[s(W,{dense:"",label:"Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":l[4]||(l[4]=o=>e.job=o),options:e.addedClassifications,"option-label":"label","display-value":`${e.job?e.job.label:""}`,"bottom-slots":"",error:!!e.formErrors.job},{error:a(()=>[t("div",Xs,i(e.formErrors.job),1)]),_:1},8,["modelValue","options","display-value","error"])])]),t("div",Zs,[s(y,{class:"q-mr-sm",size:"sm",color:"secondary",label:"Finish",onClick:l[5]||(l[5]=o=>e.$emit("closeNames"))}),s(y,{type:"submit",size:"sm",color:"primary",label:"Save"})])]),_:1},8,["onSubmit"])],2)}var ea=G(Ls,[["render",xs]]);const ta=X({components:{AddNames:ea},props:{},setup(e,l){const{requestOptions:f,addedClassifications:g}=Z(E()),{pushClassification:$}=E(),q=I(!1),o=A(()=>f.value.crafts),r=A(()=>u.value&&u.value!==void 0?u.value.classifications:[]),d=Q({craft:Q().required("Required.").nullable(),job:Q().required("Required.").nullable(),rate:je().required("Required.").nullable(),qty:je().required("Required.").nullable()}),{meta:N,errors:_,handleSubmit:O,handleReset:z}=de({validationSchema:d}),{value:u}=S("craft"),{value:b}=S("job"),{value:v}=S("rate"),{value:L}=S("qty");we(b,(h,M)=>{h&&h.hasFixedRate?v.value=h.fixedRate:h||(v.value=null)}),we(q,(h,M)=>{l.emit("toggleNames",h)});const T=O(async h=>{console.log(h);const M={id:g.value.length+1,craft:h.craft,job:h.job,rate:h.rate,qty:h.qty,label:h.job[18],names:[]};console.log(M),$(M),z()});return{crafts:o,jobs:r,craft:u,job:b,rate:v,qty:L,formMeta:N,formErrors:_,submit:T,showAddNames:q,addedClassifications:g}}}),sa={class:"row justify-between q-mb-sm"},aa=t("div",{class:"col-12 col-md-6"},[t("div",{class:"text-dark text-body1"},"Add Classifications")],-1),oa={key:0,align:"right",class:"col-12 col-md-6"},la={class:"row items-center"},na={class:"col-12 col-md-4 q-px-sm"},ra={class:"col-12 col-md-4 q-px-sm"},ia={class:"col-12 col-md-2 q-px-sm"},da={class:"col-12 col-md-2 q-px-sm"},ma={key:1};function ua(e,l,f,g,$,q){const o=K("add-names");return n(),m("div",null,[e.showAddNames?c("",!0):(n(),m("div",{key:0,class:C(e.$q.screen.lt.md?"q-pt-md":"")},[t("div",sa,[aa,e.addedClassifications.length>0&&e.$can("create","nameRequests")?(n(),m("div",oa,[s(y,{dense:"",color:"info",label:"Add Names",icon:"add",onClick:l[0]||(l[0]=r=>e.showAddNames=!0)})])):c("",!0)]),s(ue,{onSubmit:me(e.submit,["prevent"])},{default:a(()=>[s(H,{flat:""},{default:a(()=>[s(J,{class:"q-pa-none"},{default:a(()=>[t("div",la,[t("div",na,[s(W,{dense:"",label:"Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.craft,"onUpdate:modelValue":l[1]||(l[1]=r=>e.craft=r),options:e.crafts,"option-label":"10","display-value":`${e.craft?e.craft[10]:""}`,error:!!e.formErrors.craft},null,8,["modelValue","options","display-value","error"])]),t("div",ra,[s(W,{dense:"",label:"Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":l[2]||(l[2]=r=>e.job=r),options:e.jobs,"option-label":"18","display-value":`${e.job?e.job[18]:""}`,error:!!e.formErrors.job,clearable:""},null,8,["modelValue","options","display-value","error"])]),t("div",ia,[s(B,{label:"Rate",step:"any",dense:"",type:"number",modelValue:e.rate,"onUpdate:modelValue":l[3]||(l[3]=r=>e.rate=r),error:!!e.formErrors.rate,prefix:"$",disable:e.job&&e.job!==void 0&&e.job.hasFixedRate&&!e.$can("manage","rates")},null,8,["modelValue","error","disable"])]),t("div",da,[s(B,{dense:"",type:"number",label:"Qty",modelValue:e.qty,"onUpdate:modelValue":l[4]||(l[4]=r=>e.qty=r),error:!!e.formErrors.qty},null,8,["modelValue","error"])])])]),_:1}),s(ie,{class:"q-py-none",align:"right"},{default:a(()=>[s(y,{type:"submit",dense:"",color:"primary",label:"Save"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])],2)),e.showAddNames?(n(),m("div",ma,[s(o,{onCloseNames:l[5]||(l[5]=r=>e.showAddNames=!1)})])):c("",!0)])}var ca=G(ta,[["render",ua]]);const fa=X({props:{job:Object},setup(e,l){const f=ae(),{addedNames:g}=Z(E()),{upsertName:$}=E(),q=I(10),{capitalize:o}=Ke,r=A(()=>{const T=new RegExp("^[0-9]{"+q.value+"}","g");return Q({firstName:x().required().label("First Name"),lastName:x().required().label("Last Name"),phoneNumber:x().matches(T,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:x().min(4).max(4).matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{meta:d,errors:N,handleSubmit:_,handleReset:O}=de({validationSchema:r}),{value:z}=S("firstName"),{value:u}=S("lastName"),{value:b}=S("phoneNumber"),{value:v}=S("ssn"),L=_(async T=>{console.log(T),f.loading.show();const h={classification:e.job,id:g.value.length+1,firstName:o(T.firstName.toLowerCase()),lastName:o(T.lastName.toLowerCase()),phone:T.phoneNumber,ssn:T.ssn},M=await $({name:h,action:"create"});console.log(M),O(),f.loading.hide(),l.emit("newNameAdded")});return{firstName:z,lastName:u,phoneNumber:b,ssn:v,formMeta:d,formErrors:N,submit:L}}});function pa(e,l,f,g,$,q){return n(),m("div",null,[t("div",null,[s(ue,{onSubmit:me(e.submit,["prevent"])},{default:a(()=>[s(H,null,{default:a(()=>[s(J,null,{default:a(()=>[s(B,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":l[0]||(l[0]=o=>e.firstName=o),error:!!e.formErrors.firstName},null,8,["modelValue","error"]),s(B,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":l[1]||(l[1]=o=>e.lastName=o),error:!!e.formErrors.lastName},null,8,["modelValue","error"]),s(B,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":l[2]||(l[2]=o=>e.phoneNumber=o),error:!!e.formErrors.phoneNumber},null,8,["modelValue","error"]),s(B,{maxlength:"4",dense:"",label:"Last 4 of SSN",modelValue:e.ssn,"onUpdate:modelValue":l[3]||(l[3]=o=>e.ssn=o),error:!!e.formErrors.ssn},null,8,["modelValue","error"])]),_:1}),s(_e),s(ie,{class:"bg-accent",align:"right"},{default:a(()=>[s(y,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:l[4]||(l[4]=o=>e.$emit("closeNames"))},null,8,["size"]),s(y,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])}var ba=G(fa,[["render",pa]]);const ha=[{name:2,label:"Request ID",align:"left",field:e=>e[18],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Office",align:"left",field:e=>e[103],format:e=>`${e}`,sortable:!0},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`}],ga=[{name:6,label:"# Requested",align:"right",field:e=>e.map.need,format:e=>`${e}`},{name:4,label:"Job #",align:"left",field:e=>e[27],format:e=>`${e}`,sortable:!0,required:!0}],$a=[{name:3,label:"Classification",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Quantity",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],qa=[{name:3,label:"Job",align:"left",field:e=>e.title,format:e=>`${e}`,sortable:!0,required:!0},{name:5,label:"Rate",align:"right",field:e=>e[23],format:e=>`$ ${e.toFixed(2)}`,sortable:!0},{name:6,label:"Qty",align:"right",field:e=>e[18],format:e=>`${e}`},{name:7,label:"Names",align:"right",field:e=>e.names,format:e=>`${e.length}`}],ya=[{name:0,label:"Name",align:"left",field:e=>e[6],format:(e,l)=>`${e} ${l[7]}`,sortable:!0,required:!0},{name:1,label:"Phone",align:"right",field:e=>e[8],format:e=>`${e}`,sortable:!0},{name:2,label:"Status",align:"right",field:e=>e.employee[0][80],format:(e,l)=>`${e===""?l[10]:e}`}],va=X({name:"Open Table",components:{},setup(e,l){const f=ae(),{submitCancelRequest:g,submitCancelClassification:$}=E(),{activeProject:q,pendingRequestsForProject:o,pendingRequestsForProjectSummary:r,nameRequestsForProject:d}=Z(E()),N=o,_=A(()=>f.screen.lt.md?100:5);function O(v){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(async()=>{try{await g({request:v}),f.notify({type:"positive",message:"Request Canceled!",position:"top-right"})}catch(L){f.notify({type:"negative",message:L,position:"top-right"})}})}function z(v){f.dialog({title:"Confirm",message:"Are you sure you want to cancel this classification?",cancel:!0,persistent:!0}).onOk(async()=>{try{await $({item:v}),f.notify({type:"positive",message:"Classification Removed!",position:"top-right"})}catch(L){f.notify({type:"negative",message:L,position:"top-right"})}})}function u(v){l.emit("addSomeNames",v)}function b(v){l.emit("removeName",v)}return console.log(d.value),{columns:ha,rows:N,initialPagination:{rowsPerPage:_},separator:"vertical",secondColumns:$a,mobileColumns:ga,secMobileColumns:qa,nameColumns:ya,activeProject:q,pendingRequestsForProjectSummary:r,cancelRequest:O,cancelClassification:z,addSomeNames:u,removeName:b,nameRequestsForProject:d,dayjs:Ne}}}),wa={class:"q-px-none"},Na={class:"bg-dark text-white"},_a=t("th",null,null,-1),ka={key:0,class:"text-left"},Ca={key:1,class:"text-left"},Ra=t("th",{class:"text-left"},"Name",-1),Sa={key:2,class:"text-left"},ja=t("th",{class:"text-left"},"Status",-1),Pa={key:3},Va={key:0,class:"text-left"},Fa={key:1},Ta={class:"text-left"},Aa={key:2,class:"text-left"},Ea={class:"text-left"},Oa={class:"text-right"},za={key:0},Qa={colspan:"100%"},Ma={class:"row"},Ua={class:"col-12 col-md-8 q-px-sm"},Da={class:"col-12 col-md-4 q-px-sm"},La={class:"row"},Ja={class:"col-12 col-md-2 q-px-sm"},Ba={class:"text-primary q-mb-sm"},Ya={class:"col-12 col-md-3 q-px-sm"},Ia={class:"text-primary q-mb-sm"},Ha={class:"col-12 col-md-3 q-px-sm"},Ga={class:"q-mb-sm"},Ka={class:"col-12 col-md-3 q-px-sm"},Wa={class:"text-primary q-mb-sm"},Xa={key:0},Za={colspan:"100%"},xa={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function eo(e,l,f,g,$,q){return n(),m("div",wa,[s(H,null,{default:a(()=>[s(J,{class:"q-pb-none"},{default:a(()=>[t("div",{class:C(["text-primary",e.$q.screen.lt.md?"text-body1":"text-h6"])},i(e.$q.screen.gt.md?`Named Requests for ${e.activeProject[20]}`:"Named Requests"),3)]),_:1}),s(J,null,{default:a(()=>[s(oe,{dense:e.$q.screen.lt.md,flat:""},{default:a(()=>[t("thead",Na,[t("tr",null,[_a,e.$q.screen.gt.sm?(n(),m("th",ka,"Request#")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",Ca,"Submitted On")):c("",!0),Ra,e.$q.screen.gt.sm?(n(),m("th",Sa,"Phone")):c("",!0),ja,e.$can("create","nameRequests")?(n(),m("th",Pa)):c("",!0)])]),t("tbody",null,[(n(!0),m(R,null,P(e.nameRequestsForProject,o=>(n(),m(R,{key:o[3]},[t("tr",{class:C(o.employee[0]===void 0?"":o.employee[0][408]==="Terminated"&&!o.employee[0][421]?"bg-negative text-white":"")},[t("td",null,[s(D,{class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"info",onClick:r=>o.expand=!o.expand,name:o.expand?"visibility_off":"visibility"},null,8,["size","onClick","name"])]),e.$q.screen.gt.sm?(n(),m("td",Va,i(o[18]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",Fa,i(e.dayjs(o[1].$d).format("MM/DD/YYYY")),1)):c("",!0),t("td",Ta,i(o[6])+" "+i(o[7]),1),e.$q.screen.gt.sm?(n(),m("td",Aa,i(o[8]),1)):c("",!0),t("td",Ea,i(o.employee[0]===void 0?o[10]:o.employee[0][408]==="Terminated"&&!o.employee[0][421]?"Not Eligible":o.employee[0][552]===""?o[10]:o.employee[0][552]),1),t("td",Oa,[e.$can("create","nameRequests")?(n(),p(y,{key:0,round:"",size:"sm",color:"accent",onClick:r=>e.removeName(o),icon:"delete"},null,8,["onClick"])):(n(),p(y,{key:1,round:"",size:"sm",color:"dark",disable:"",icon:"delete"}))])],2),o.expand?(n(),m("tr",za,[t("td",Qa,[s(H,null,{default:a(()=>[o.employee[0][408]==="Terminated"&&!o.employee[0][421]?(n(),p(J,{key:0},{default:a(()=>[t("div",Ma,[t("div",Ua,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary q-mb-sm"])}," Termination Reason ",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm"])},i(o.employee[0][420]),3)]),t("div",Da,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary q-mb-sm"])}," Termination Date ",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm"])},i(e.dayjs(o.employee[0][400].$d).format("MM/DD/YYYY")),3)])])]),_:2},1024)):c("",!0),o.employee[0][408]==="Terminated"&&!o.employee[0][421]?(n(),p(_e,{key:1})):c("",!0),s(J,null,{default:a(()=>[t("div",La,[t("div",Ja,[t("div",Ba,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Request#",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(o[18]),3)])]),t("div",Ya,[t("div",Ia,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Classification",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(o[24]),3)])]),t("div",Ha,[t("div",Ga,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Job#",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(o[36]),3)])]),t("div",Ka,[t("div",Wa,[t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","text-primary"])},"Submitted by",2),t("div",{class:C([e.$q.screen.lt.md?"text-caption":"text-body2","q-pl-sm text-dark"])},i(o[14]),3)])])])]),_:2},1024)]),_:2},1024)])])):c("",!0)],64))),128)),e.nameRequestsForProject.length<1?(n(),m("tr",Xa,[t("td",Za,[t("div",xa,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(`There are no named requests for ${e.activeProject[20]}`),1)])])])):c("",!0)])]),_:1},8,["dense"])]),_:1})]),_:1})])}var to=G(va,[["render",eo]]);const so=X({setup(e,l){const{openRequestsForProject:f,pendingRequestsForProject:g}=Z(E()),$=A(()=>{const d=[];return f.value.forEach(N=>{N.classes.forEach(_=>{d.push(_)})}),g.value.forEach(N=>{N.classes.forEach(_=>{d.push(_)})}),d.filter(N=>N[17]!=="Closed")});function q(d){l.emit("addSomeNames",d)}function o(d){l.emit("removeName",d)}function r(){l.emit("cancelSubmitNames")}return{rows:$,addSomeNames:q,removeName:o,cancelAddSomeNames:r}}}),ao={class:"row items-center q-pb-sm"},oo={class:"col-12 col-md-10 text-left"},lo={class:"col-12 col-md-2 text-right"},no={class:"bg-dark text-white"},ro={key:0,class:"text-left"},io={key:1,class:"text-left"},mo=t("th",{class:"text-left"},"Classification",-1),uo={key:2,class:"text-left"},co=t("th",{class:"text-right"},"Rate",-1),fo={key:3,class:"text-right"},po={key:4},bo={key:0,class:"text-left"},ho={key:1,class:"text-left"},go={class:"text-left"},$o={key:2,class:"text-left"},qo={class:"text-right"},yo={key:3,class:"text-right"},vo={key:0},wo={class:"bg-secondary"},No=t("th",{class:"text-left"},"Name",-1),_o={key:0,class:"text-left"},ko={key:1,class:"text-left"},Co=t("th",null,null,-1),Ro={class:"text-left"},So={key:0,class:"text-left"},jo={key:1,class:"text-left"},Po={class:"text-right"};function Vo(e,l,f,g,$,q){return n(),m("div",null,[s(H,{flat:""},{default:a(()=>[s(J,{class:"q-mt-none q-pt-none"},{default:a(()=>[t("div",ao,[t("div",oo,[t("div",{class:C(["text-primary",e.$q.screen.gt.sm?"text-h6":"text-body2"])},"Available Classifications",2),e.$q.screen.gt.sm?(n(),m("div",{key:0,class:C(["text-dark text-italic",e.$q.screen.gt.sm?"text-body2":"text-caption"])},"Find the classification that you would like to add names to and click add names.",2)):c("",!0)]),t("div",lo,[s(y,{dense:e.$q.screen.lt.md,color:"dark",onClick:l[0]||(l[0]=o=>e.cancelAddSomeNames()),label:"Back",size:e.$q.screen.lt.md?"sm":"md"},null,8,["dense","size"])])]),s(oe,{dense:e.$q.screen.lt.md},{default:a(()=>[t("thead",null,[t("tr",no,[e.$q.screen.gt.sm?(n(),m("th",ro,"Request#")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",io,"Status")):c("",!0),mo,e.$q.screen.gt.sm?(n(),m("th",uo,"Job Number")):c("",!0),co,e.$q.screen.gt.sm?(n(),m("th",fo,"Qty")):c("",!0),e.$can("create","nameRequests")?(n(),m("th",po)):c("",!0)])]),t("tbody",null,[(n(!0),m(R,null,P(e.rows,o=>(n(),m(R,{key:o[3]},[t("tr",null,[e.$q.screen.gt.sm?(n(),m("td",bo,i(o[6]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",ho,i(o[17]),1)):c("",!0),t("td",go,i(o[21]),1),e.$q.screen.gt.sm?(n(),m("td",$o,i(o[15]),1)):c("",!0),t("td",qo,"$"+i(o[23].toFixed(2)),1),e.$q.screen.gt.sm?(n(),m("td",yo,i(o[18]),1)):c("",!0),e.$can("create","nameRequests")?(n(),p(w,{key:4,class:"text-right"},{default:a(()=>[s(y,{dense:e.$q.screen.lt.md,class:"q-ml-sm",size:"sm",color:"dark",onClick:r=>e.addSomeNames(o),label:e.$q.screen.gt.sm?"Add Names":"Add"},null,8,["dense","onClick","label"])]),_:2},1024)):c("",!0)]),o.names.length>0?(n(),m("tr",vo,[s(w,{colspan:"100%"},{default:a(()=>[s(oe,{dense:"",flat:"",bordered:""},{default:a(()=>[t("thead",wo,[t("tr",null,[No,e.$q.screen.gt.sm?(n(),m("th",_o,"Phone")):c("",!0),e.$q.screen.gt.sm?(n(),m("th",ko,"Status")):c("",!0),Co])]),t("tbody",null,[(n(!0),m(R,null,P(o.names,r=>(n(),m("tr",{key:r[3]},[t("td",Ro,i(r[6])+" "+i(r[7]),1),e.$q.screen.gt.sm?(n(),m("td",So,i(r[8]),1)):c("",!0),e.$q.screen.gt.sm?(n(),m("td",jo,i(r.employee===void 0||r.employee[0]===void 0?r[10]:r.employee[0][408]==="Terminated"&&!r.employee[0][421]?"Not Eligible":r.employee[0][552]===""?r[10]:r.employee[0][552]),1)):c("",!0),t("td",Po,[e.$can("create","nameRequests")?(n(),p(y,{key:0,round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",onClick:d=>e.removeName(r),icon:"delete"},null,8,["size","onClick"])):(n(),p(y,{key:1,round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"dark",disable:"",icon:"delete"},null,8,["size"]))])]))),128))])]),_:2},1024)]),_:2},1024)])):c("",!0)],64))),128))])]),_:1},8,["dense"])]),_:1})]),_:1})])}var Fo=G(so,[["render",Vo]]);const To=[{name:1,label:"Craft",align:"left",field:e=>e.craft[10],format:e=>`${e}`,sortable:!0},{name:2,label:"Classification",align:"left",field:e=>e.job[18],format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Rate",align:"left",field:e=>e.rate,format:e=>`${e}`,sortable:!0},{name:4,label:"Qty",align:"left",field:e=>e.qty,format:e=>`${e}`,sortable:!0,required:!0}],Ao=[{name:1,label:"Name",align:"left",field:e=>e.firstName,format:(e,l)=>`${e} ${l.lastName}`,sortable:!0},{name:2,label:"Phone",align:"left",field:e=>e.phone,format:e=>`${e}`,sortable:!0,required:!0},{name:3,label:"Last 4",align:"left",field:e=>e.ssn,format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.classification.job[18],format:e=>`${e}`,sortable:!0,required:!0}],Eo=X({name:"Requests",components:{openTable:Ft,closedTable:ns,pendingTable:Ds,addClassifications:ca,addNamesDialog:ba,nameRequestTable:to,classificationsTable:Fo},setup(){const e=ae(),{requestOptions:l,getClassifications:f,openRequestsForProject:g,pendingRequestsForProject:$,closedRequestsForProject:q,nameRequestsForProject:o}=Z(E()),{storeRequest:r,resetRequest:d,spliceClassification:N,spliceName:_,upsertName:O,addToRequest:z}=E(),u=I(0),b=I(!1),v=I(!1),L=I(!1),T=I(!1),h=I(null),M=[{value:"Name Request Only",description:"The hiring center will only hire the names you provide, even if you DO NOT provide enough names to fill the quantity you request."},{value:"Open",description:"The hiring center will fill positions by recruiting and selecting the most qualified candidates available."},{value:"Mixed",description:"The hiring center will hire all of the names that you provide and fill remaining positions by recruiting and selecting the most qualified candidates available."}],ke=[{value:"Backfill",description:"This request is to fill positions that are open because of an employee leaving the job site."},{value:"Increase in Manpower",description:"This request is to fill positions that are new because of an increased need in manpower. This may be due to a change in the scope of an existing contract, an additional contract awarded, etc."}];we(f,()=>{console.log(f.value)});const Pe=Q({jobNumber:Q().required("Job number is required."),contact:Q().required().nullable("Contact is required."),location:Q().required().nullable("Location is required."),perdiem:Q().nullable(),dateNeeded:We().required().nullable("Date needed is required."),restriction:Q().required().label("Request Type"),reason:Q().required().label("Request Reason")}),{meta:Ve,errors:Fe,handleSubmit:Te,handleReset:ce}=de({validationSchema:Pe,initialValues:{restriction:M[1],reason:ke[0]}}),{value:fe}=S("jobNumber"),{value:pe}=S("contact"),{value:be}=S("location"),{value:he}=S("perdiem"),{value:Ae}=S("dateNeeded"),{value:ge}=S("restriction"),{value:Ee}=S("reason"),$e=A(()=>{const k=$.value.filter(U=>Ne(U[1].$d).isSameOrAfter(Ne().subtract(7,"day"))),Y=fe.value?fe.value[3]:0,le=pe.value?pe.value[3]:0,Ce=be.value?be.value[3]:0,Re=he.value?he.value[3]:0,Se=ge.value?ge.value.value:"";return Re===0?k.find(U=>U[9]===Y&&U[31]===Ce&&U[60]===le&&U[282]===Se):k.find(U=>U[9]===Y&&U[31]===Ce&&U[60]===le&&U[282]===Se&&U[65]===Re)}),Oe=Te(async k=>{if($e.value){console.log($e.value),e.loading.show();try{const Y=await z({request:$e.value});ce(),u.value=1,v.value=!1,e.notify({type:"positive",message:`Request merged with Request# ${Y[3]}`})}catch(Y){console.log(Y),e.notify({type:"negative",message:"There was a problem submitting request!"})}e.loading.hide()}else{e.loading.show();try{await r({request:k}),ce(),u.value=1,v.value=!1,e.notify({type:"positive",message:"Request submitted!"})}catch(Y){console.log(Y),e.notify({type:"negative",message:"There was a problem submitting request!"})}e.loading.hide()}}),ze=A(()=>{const k=[];return f.value.forEach(Y=>{Y.names.forEach(le=>{k.push(le)})}),k}),Qe=A(()=>l.value.jobNumbers),Me=A(()=>l.value.perdiem.length>0?l.value.perdiem:null),Ue=A(()=>l.value.locations),De=A(()=>l.value.contacts);function Le(){e.dialog({title:"Confirm",message:"Are you sure you want to cancel? All of your progress will be lost.",cancel:!0,persistent:!0}).onOk(()=>{d(),v.value=!1,ce()})}function Je(k){e.dialog({title:"Confirm",message:"Are you sure you want to delete this classification?",cancel:!0,persistent:!0}).onOk(()=>{N({item:k})})}function Be(k){e.dialog({title:"Confirm",message:"Are you sure you want to delete this name?",cancel:!0,persistent:!0}).onOk(()=>{_({item:k})})}function Ye(k){console.log(k),e.dialog({title:"Confirm",message:`Are you sure you want to delete ${k[6]} ${k[7]} from request# ${k[18]}?`,cancel:!0,persistent:!0}).onOk(async()=>{await O({name:k,action:"delete"}),e.notify({type:"positive",message:"Name deleted!"})})}function Ie(k){h.value=k,T.value=!0}function He(){e.notify({type:"positive",message:"New name added!"}),h.value=null,T.value=!1}function Ge(k){b.value=k}return console.log(o.value),{tab:u,showNew:v,getClassifications:f,columns:To,nameColumns:Ao,jobNumbers:Qe,perdiems:Me,locations:Ue,contacts:De,restrictions:M,reasons:ke,submitRequest:Oe,jobNumber:fe,contact:pe,location:be,perdiem:he,dateNeeded:Ae,restriction:ge,reason:Ee,formMeta:Ve,formErrors:Fe,removeClassification:Je,cancelNew:Le,openRequestsForProject:g,pendingRequestsForProject:$,closedRequestsForProject:q,removeName:Be,names:ze,addSomeNames:Ie,showAddSomeNames:T,jobForNewName:h,newNameAdded:He,deleteName:Ye,nameRequestsForProject:o,showSubmitNames:L,addingNames:b,namesToggled:Ge}}}),Oo={class:"q-px-sm"},zo={class:"row justify-between"},Qo={class:"col-12 col-md-5 q-pr-lg"},Mo={class:"text-caption"},Uo=t("div",null,[t("span",null,"Request Reason")],-1),Do={class:"text-caption"},Lo={class:"text-caption"},Jo=t("div",null,[t("span",null,"Request Type")],-1),Bo={class:"text-caption"},Yo={class:"text-caption"},Io={class:"text-caption"},Ho={class:"text-caption"},Go={class:"text-caption"},Ko={class:"text-caption"},Wo={class:"col-12 col-md-7"},Xo={class:"q-mt-md"},Zo={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},xo={key:1,class:"q-mt-md"},el={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function tl(e,l,f,g,$,q){const o=K("open-table"),r=K("pending-table"),d=K("name-request-table"),N=K("closed-table"),_=K("add-classifications"),O=K("classifications-table"),z=K("add-names-dialog");return n(),m("div",null,[t("div",Oo,[s(qe,{duration:100},{default:a(()=>[ee(t("div",null,[e.$q.screen.lt.md?(n(),p(H,{key:0,flat:"",class:"q-mb-sm q-mt-none q-pt-none"},{default:a(()=>[s(ie,{align:"right"},{default:a(()=>[e.$can("create","projectRequests")?(n(),p(y,{key:0,dense:"",color:"primary",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:l[0]||(l[0]=u=>e.showNew=!0)},null,8,["label"])):c("",!0)]),_:1})]),_:1})):c("",!0),s(Xe,{class:"bg-info text-white shadow-2 rounded-borders"},{default:a(()=>[s(et,{modelValue:e.tab,"onUpdate:modelValue":l[1]||(l[1]=u=>e.tab=u),"bg-color":"none","indicator-color":"accent",dense:e.$q.screen.lt.md},{default:a(()=>[s(ne,{name:0,label:e.$q.screen.gt.xs?"Open Requests":"Open"},{default:a(()=>[e.openRequestsForProject.length>0?(n(),p(ye,{key:0,color:"accent",floating:"",transparent:""},{default:a(()=>[V(i(e.openRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"]),e.$q.screen.gt.sm?(n(),p(ne,{key:0,name:1,label:e.$q.screen.gt.xs?"Pending Requests":"Pending"},{default:a(()=>[e.pendingRequestsForProject.length>0?(n(),p(ye,{key:0,color:"accent",floating:"",transparent:""},{default:a(()=>[V(i(e.pendingRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),e.$can("read","nameRequests")?(n(),p(ne,{key:1,name:2,label:e.$q.screen.gt.xs?"Named Requests":"Named"},{default:a(()=>[e.nameRequestsForProject.length>0?(n(),p(ye,{key:0,color:"accent",floating:"",transparent:""},{default:a(()=>[V(i(e.nameRequestsForProject.length),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),e.$q.screen.gt.sm?(n(),p(ne,{key:2,name:3,label:e.$q.screen.gt.xs?"Completed Requests":"Completed"},null,8,["label"])):c("",!0)]),_:1},8,["modelValue","dense"]),s(st),!e.showNew&&e.$q.screen.gt.sm&&e.$can("create","nameRequests")&&(e.openRequestsForProject.length>0||e.pendingRequestsForProject.length>0)?(n(),p(y,{key:0,class:"q-mr-sm",dense:"",color:"secondary",icon:"person_add",label:(e.$q.screen.lt.md,"Submit Names"),onClick:l[2]||(l[2]=u=>e.showSubmitNames=!0)},null,8,["label"])):c("",!0),!e.showNew&&e.$q.screen.gt.sm?(n(),p(y,{key:1,dense:"",color:"accent",icon:"add",label:e.$q.screen.lt.md?"Add New":"Add New Request",onClick:l[3]||(l[3]=u=>e.showNew=!0)},null,8,["label"])):c("",!0)]),_:1}),s(tt,{modelValue:e.tab,"onUpdate:modelValue":l[4]||(l[4]=u=>e.tab=u),animated:""},{default:a(()=>[s(re,{name:0},{default:a(()=>[s(o,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),s(re,{name:1},{default:a(()=>[s(r,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName},null,8,["onAddSomeNames","onRemoveName"])]),_:1}),s(re,{name:2},{default:a(()=>[s(d,{onRemoveName:e.deleteName},null,8,["onRemoveName"])]),_:1}),s(re,{name:3},{default:a(()=>[s(N)]),_:1})]),_:1},8,["modelValue"])],512),[[te,!e.showNew&&!e.showSubmitNames]])]),_:1}),s(qe,{duration:100},{default:a(()=>[ee(t("div",null,[s(H,null,{default:a(()=>[s(ue,{onSubmit:me(e.submitRequest,["prevent"])},{default:a(()=>[s(J,null,{default:a(()=>[t("div",zo,[t("div",Qo,[s(W,{class:"q-mb-sm",dense:"","label-slot":"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.reason,"onUpdate:modelValue":l[5]||(l[5]=u=>e.reason=u),options:e.reasons,"option-label":"value","display-value":e.reason?e.reason.value:"","bottom-slots":"",error:!!e.formErrors.reason},{error:a(()=>[t("div",Mo,i(e.formErrors.reason),1)]),label:a(()=>[Uo]),after:a(()=>[s(y,{size:"xs",color:"accent",round:"",icon:"question_mark"},{default:a(()=>[s(ve,{anchor:"top middle",self:"center middle",class:"bg-primary text-white"},{default:a(()=>[t("div",null,[t("div",Do,i(e.reason?e.reason.description:""),1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","display-value","error"]),s(W,{class:"q-mb-sm",dense:"","label-slot":"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.restriction,"onUpdate:modelValue":l[6]||(l[6]=u=>e.restriction=u),options:e.restrictions,"option-label":"value","display-value":e.restriction?e.restriction.value:"","bottom-slots":"",error:!!e.formErrors.restriction},{error:a(()=>[t("div",Lo,i(e.formErrors.restriction),1)]),label:a(()=>[Jo]),after:a(()=>[s(y,{size:"xs",color:"accent",round:"",icon:"question_mark"},{default:a(()=>[s(ve,{anchor:"top middle",self:"center middle",class:"bg-primary text-white"},{default:a(()=>[t("div",null,[t("div",Bo,i(e.restriction?e.restriction.description:""),1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","display-value","error"]),s(W,{class:"q-mb-sm",dense:"",label:"Select Job Number","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.jobNumber,"onUpdate:modelValue":l[7]||(l[7]=u=>e.jobNumber=u),options:e.jobNumbers,"option-label":"11","display-value":`${e.jobNumber?e.jobNumber[11]:""}`,"bottom-slots":"",error:!!e.formErrors.jobNumber},{error:a(()=>[t("div",Yo,i(e.formErrors.jobNumber),1)]),_:1},8,["modelValue","options","display-value","error"]),s(W,{class:"q-mb-sm",dense:"",label:"Select Contact","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.contact,"onUpdate:modelValue":l[8]||(l[8]=u=>e.contact=u),options:e.contacts,"option-label":"17","display-value":`${e.contact?e.contact[17]:""}`,"bottom-slots":"",error:!!e.formErrors.contact},{error:a(()=>[t("div",Io,i(e.formErrors.contact),1)]),_:1},8,["modelValue","options","display-value","error"]),s(W,{class:"q-mb-sm",dense:"",label:"Select Meeting Location","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.location,"onUpdate:modelValue":l[9]||(l[9]=u=>e.location=u),options:e.locations,"option-label":"6","display-value":`${e.location?e.location[6]:""}`,"bottom-slots":"",error:!!e.formErrors.location},{error:a(()=>[t("div",Ho,i(e.formErrors.location),1)]),_:1},8,["modelValue","options","display-value","error"]),s(W,{class:"q-mb-sm",dense:"",label:"Per Diem","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.perdiem,"onUpdate:modelValue":l[10]||(l[10]=u=>e.perdiem=u),options:e.perdiems,"option-label":"20","display-value":`${e.perdiem?e.perdiem[20]:""}`,"bottom-slots":"",error:!!e.formErrors.perdiem},{error:a(()=>[t("div",Go,i(e.formErrors.perdiem),1)]),_:1},8,["modelValue","options","display-value","error"]),s(B,{dense:"",type:"date",modelValue:e.dateNeeded,"onUpdate:modelValue":l[11]||(l[11]=u=>e.dateNeeded=u),"bottom-slots":"",error:!!e.formErrors.dateNeeded,label:"Date Needed","stack-label":""},{error:a(()=>[t("div",Ko,i(e.formErrors.dateNeeded),1)]),_:1},8,["modelValue","error"])]),t("div",Wo,[e.$q.screen.lt.md?(n(),p(_e,{key:0,color:"primary"})):c("",!0),s(_,{clearForm:!e.showNew,onToggleNames:e.namesToggled},null,8,["clearForm","onToggleNames"]),t("div",Xo,[s(se,{dense:"",rows:e.getClassifications,"row-key":"id",columns:e.columns,"table-header-class":"bg-secondary","no-data-label":"At least one classification is required."},{"no-data":a(({message:u})=>[t("div",Zo,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(u),1)])]),header:a(u=>[s(j,{class:"bg-dark text-white",props:u},{default:a(()=>[(n(!0),m(R,null,P(u.cols,b=>(n(),p(F,{key:b.name,props:u},{default:a(()=>[V(i(b.label),1)]),_:2},1032,["props"]))),128)),s(F,{"auto-width":""})]),_:2},1032,["props"])]),body:a(u=>[s(j,{props:u},{default:a(()=>[(n(!0),m(R,null,P(u.cols,b=>(n(),p(w,{key:b.name,props:u},{default:a(()=>[V(i(b.value),1)]),_:2},1032,["props"]))),128)),s(w,{"auto-width":""},{default:a(()=>[s(y,{size:"xs",round:"",color:"primary",onClick:b=>e.removeClassification(u.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),e.names.length>0&&e.$can("read","nameRequests")?(n(),m("div",xo,[s(se,{dense:"",rows:e.names,"row-key":"id",columns:e.nameColumns,"table-header-class":"bg-secondary","no-data-label":"No names added."},{"no-data":a(({message:u})=>[t("div",el,[s(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),t("span",null,i(u),1)])]),header:a(u=>[s(j,{class:"bg-dark text-white",props:u},{default:a(()=>[(n(!0),m(R,null,P(u.cols,b=>(n(),p(F,{key:b.name,props:u},{default:a(()=>[V(i(b.label),1)]),_:2},1032,["props"]))),128)),s(F,{"auto-width":""})]),_:2},1032,["props"])]),body:a(u=>[s(j,{props:u},{default:a(()=>[(n(!0),m(R,null,P(u.cols,b=>(n(),p(w,{key:b.name,props:u},{default:a(()=>[V(i(b.value),1)]),_:2},1032,["props"]))),128)),s(w,{"auto-width":""},{default:a(()=>[s(y,{size:"xs",round:"",color:"primary",onClick:b=>e.removeName(u.row),icon:"delete"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])):c("",!0)])])]),_:1}),s(ie,{align:"right"},{default:a(()=>[s(y,{color:"dark",label:"Cancel",onClick:e.cancelNew},null,8,["onClick"]),s(y,{disabled:!e.getClassifications.length>0||e.addingNames,color:"primary",label:"Submit",type:"submit"},{default:a(()=>[s(ve,{anchor:"top left",self:"bottom right"},{default:a(()=>[V(i(e.getClassifications.length===0?"You are required to enter at least one classification.":e.addingNames?"Finish adding names to submit.":"Submit your Request"),1)]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})],512),[[te,e.showNew]])]),_:1}),s(qe,{duration:100},{default:a(()=>[ee(t("div",null,[s(O,{onAddSomeNames:e.addSomeNames,onRemoveName:e.deleteName,onCancelSubmitNames:l[12]||(l[12]=u=>e.showSubmitNames=!1)},null,8,["onAddSomeNames","onRemoveName"])],512),[[te,e.showSubmitNames]])]),_:1})]),s(Ze,{modelValue:e.showAddSomeNames,"onUpdate:modelValue":l[14]||(l[14]=u=>e.showAddSomeNames=u),persistent:""},{default:a(()=>[s(z,{job:e.jobForNewName,onCloseNames:l[13]||(l[13]=u=>e.showAddSomeNames=!1),onNewNameAdded:e.newNameAdded},null,8,["job","onNewNameAdded"])]),_:1},8,["modelValue"])])}var sl=G(Eo,[["render",tl]]);const al={name:"Requests",components:{RequestPage:sl},setup(){return{}}};function ol(e,l,f,g,$,q){const o=K("request-page");return n(),p(xe,{style:{"max-width":"100vw","max-height":"100vh"}},{default:a(()=>[s(o)]),_:1})}var pl=G(al,[["render",ol]]);export{pl as default};
